/*! bfa-theme 2017-07-26 */

function fn_print_r(e){fn_alert(fn_print_array(e))}function fn_alert(e,t){e=t?e:fn_strip_tags(e),alert(e)}function fn_print_array(e,t){var i="";t||(t=0);for(var a="",r=0;r<t+1;r++)a+="    ";if("object"==typeof e)for(var o in e){var n=e[o];"object"==typeof n?(i+=a+"'"+o+"' ...\n",i+=fn_print_array(n,t+1)):i+=a+"'"+o+"' => \""+n+'"\n'}else i=e+" ("+typeof e+")";return i}function fn_url(e){var t=Tygh.current_location+"/"+Tygh.index_script,i=Tygh.$.parseUrl(e);if(""==e)e=t;else if(i.protocol){if(Tygh.embedded){var a,r;if(Tygh.facebook&&-1!=Tygh.facebook.url.indexOf(i.location)?a="&app_data=":Tygh.init_context==i.source.str_replace("#"+i.anchor,"")&&(a="#!"),a){var o="";-1!=(r=e.indexOf(a))&&(o=decodeURIComponent(e.substr(r+a.length)).replace("&amp;","&")),e=Tygh.current_location+o}}}else i.file!=Tygh.index_script&&(e=0==e.indexOf("?")?t+e:t+"?dispatch="+e.replace("?","&"));return e}function fn_strip_tags(e){return e=String(e).replace(/<.*?>/g,"")}function fn_reload_form(e){var t=e.parents("form"),i=t.parent(),a=t.find("input[type='submit']");if(a.length||(a=Tygh.$("[data-ca-target-form="+t.prop("name")+"]")),i.length&&a.length){var r,o=t.prop("action")+"?reload_form=1&"+a.prop("name"),n=t.serializeObject();r="undefined"!=n.result_ids?n.result_ids:i.prop("id"),Tygh.$.ceAjax("request",fn_url(o),{data:n,result_ids:r})}}function fn_get_listed_lang(e){Tygh.$;var t=[Tygh.cart_language,Tygh.default_language,"en"],i="";if(e.length){i=e[0];for(var a=0;a<t.length;a++)if(-1!=Tygh.$.inArray(t[a],e)){i=t[a];break}}return i}function fn_query_remove(e,t){if(void 0===t)return e;"string"==typeof t&&(t=[t]);var i=e;if(e.indexOf("?")>=0){i=e.substr(0,e.indexOf("?")+1);for(var a=e.substr(e.indexOf("?")+1).split("&"),r=[],o=!0,n="",s=0;s<a.length;s++){r=a[s].split("="),o=!0;for(var c=0;c<t.length;c++)if(t[c]==r[0]||-1!=r[0].indexOf(t[c]+"[")){o=!1;break}1==o&&(i+=n+r[0]+"="+r[1]),n="&"}}return i}var Tygh={embedded:"undefined"!=typeof TYGH_LOADER,doc:"undefined"!=typeof TYGH_LOADER?TYGH_LOADER.doc:document,body:"undefined"!=typeof TYGH_LOADER?TYGH_LOADER.body:null,otherjQ:"undefined"!=typeof TYGH_LOADER&&TYGH_LOADER.otherjQ,facebook:"undefined"!=typeof TYGH_FACEBOOK&&TYGH_FACEBOOK,container:"tygh_main_container",init_container:"tygh_container",lang:{},area:"",security_hash:"",isTouch:!1,anchor:"undefined"!=typeof TYGH_LOADER?"":window.location.hash,tr:function(e,t){return"string"==typeof e&&void 0===t?Tygh.lang[e]:void 0!==t?(Tygh.lang[e]=t,!0):"object"==typeof e&&(Tygh.$.extend(Tygh.lang,e),!0)}};!function(_,$){if(_.$=$,function(e){var t=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[],a={browser:i[1]||"",version:i[2]||"0"},r={};a.browser&&(r[a.browser]=!0,r.version=a.version),r.chrome?r.webkit=!0:r.webkit&&(r.safari=!0),e.browser=r}($),$.extend({lastClickedElement:null,getWindowSizes:function(){var e=document.compatMode&&"BackCompat"!=document.compatMode?document.documentElement:document.body;return{offset_x:e.scrollLeft?e.scrollLeft:self.pageXOffset?self.pageXOffset:0,offset_y:e.scrollTop?e.scrollTop:self.pageYOffset?self.pageYOffset:0,view_height:self.innerHeight?self.innerHeight:e.clientHeight,view_width:self.innerWidth?self.innerWidth:e.clientWidth,height:e.scrollHeight?e.scrollHeight:window.height,width:e.scrollWidth?e.scrollWidth:window.width}},disable_elms:function(e,t){$("#"+e.join(",#")).prop("disabled",t)},ua:{version:navigator.userAgent.toLowerCase().indexOf("chrome")>=0?(navigator.userAgent.match(/.+(?:chrome)[\/: ]([\d.]+)/i)||[])[1]:navigator.userAgent.toLowerCase().indexOf("msie")>=0?(navigator.userAgent.match(/.*?msie[\/:\ ]([\d.]+)/i)||[])[1]:(navigator.userAgent.match(/.+(?:it|pera|irefox|ersion)[\/: ]([\d.]+)/i)||[])[1],browser:navigator.userAgent.toLowerCase().indexOf("chrome")>=0?"Chrome":$.browser.safari?"Safari":$.browser.opera?"Opera":$.browser.msie?"Internet Explorer":"Firefox",os:-1!=navigator.platform.toLowerCase().indexOf("mac")?"MacOS":-1!=navigator.platform.toLowerCase().indexOf("win")?"Windows":"Linux",language:navigator.language?navigator.language:navigator.browserLanguage?navigator.browserLanguage:navigator.userLanguage?navigator.userLanguage:navigator.systemLanguage?navigator.systemLanguage:""},is:{email:function(e){return!!/\S+@\S+.\S+/i.test(e)},blank:function(e){return!!($.isArray(e)&&0==e.length||"null"===$.type(e)||""==(""+e).replace(/[\n\r\t]/gi,""))},integer:function(e){return!(!/^[0-9]+$/.test(e)||$.is.blank(e))},color:function(e){return!(!/^\#[0-9a-fA-F]{6}$/.test(e)||$.is.blank(e))},phone:function(e){return!(!/^[\s()+-]*([0-9][\s()+-]*){6,20}$/.test(e)||!e.length)}},cookie:{get:function(e){for(var t=e+"=",i=t.length,a=document.cookie.length,r=0;r<a;){var o=r+i;if(document.cookie.substring(r,o)==t){var n=document.cookie.indexOf(";",o);return-1==n&&(n=document.cookie.length),unescape(document.cookie.substring(o,n))}if(0==(r=document.cookie.indexOf(" ",r)+1))break}return null},set:function(e,t,i,a,r,o){document.cookie=e+"="+escape(t)+(i?"; expires="+i.toGMTString():"")+(a?"; path="+a:"")+(r?"; domain="+r:"")+(o?"; secure":"")},remove:function(e,t,i){$.cookie.get(e)&&(document.cookie=e+"="+(t?"; path="+t:"")+(i?"; domain="+i:"")+"; expires=Thu, 01-Jan-70 00:00:01 GMT")}},redirect:function(e,t){t=t||!1,$("base").length&&0!=e.indexOf("/")&&0!==e.indexOf("http")&&(e=$("base").prop("href")+e),_.embedded?$.ceAjax("request",e,{result_ids:_.container}):t?window.location.replace(e):window.location.href=e},dispatchEvent:function(e){var jelm=$(e.target),elm=e.target,s;if(e.which=e.which||1,("click"==e.type||"mousedown"==e.type)&&$.browser.mozilla&&1!=e.which)return!0;var processed={status:!1,to_return:!0};if($.ceEvent("trigger","dispatch_event_pre",[e,jelm,processed]),processed.status)return processed.to_return;if("click"==e.type){if($.getProcessItemsMeta(elm)){if(!$.checkSelectedItems(elm))return!1}else if((jelm.hasClass("cm-confirm")||jelm.parents().hasClass("cm-confirm"))&&!jelm.parents().hasClass("cm-skip-confirmation")){var confirm_text=_.tr("text_are_you_sure_to_proceed"),$parent_confirm;if(jelm.hasClass("cm-confirm")&&jelm.data("ca-confirm-text")?confirm_text=jelm.data("ca-confirm-text"):($parent_confirm=jelm.parents('[class="cm-confirm"][data-ca-confirm-text]').first()).get(0)&&(confirm_text=$parent_confirm.data("ca-confirm-text")),!1===confirm(fn_strip_tags(confirm_text)))return!1;$.ceEvent("trigger","ce.form_confirm",[jelm])}if($.lastClickedElement=jelm,jelm.hasClass("cm-disabled"))return!1;if(jelm.hasClass("cm-delete-row")||jelm.parents(".cm-delete-row").length){var holder;if(jelm.is("tr")||jelm.hasClass("cm-row-item"))holder=jelm;else if(jelm.parents(".cm-row-item").length)holder=jelm.parents(".cm-row-item:first");else{if(!jelm.parents("tr").length||$(".cm-picker",jelm.parents("tr:first")).length)return!1;holder=jelm.parents("tr:first")}$(".cm-combination[id^=off_]",holder).click(),holder.parent("tbody.cm-row-item").length&&(holder=holder.parent("tbody.cm-row-item")),jelm.hasClass("cm-ajax")||jelm.parents(".cm-ajax").length?($.ceAjax("clearCache"),holder.remove()):holder.hasClass("cm-opacity")?($(":input",holder).each(function(){$(this).prop("name",$(this).data("caInputName"))}),holder.removeClass("cm-delete-row cm-opacity"),($.browser.msie||$.browser.opera)&&$("*",holder).removeClass("cm-opacity")):($(":input[name]",holder).each(function(){var e=$(this),t=e.prop("name");e.data("caInputName",t).attr("data-ca-input-name",t).prop("name","")}),holder.addClass("cm-delete-row cm-opacity"),($.browser.msie&&$.browser.version<9||$.browser.opera)&&$("*",holder).addClass("cm-opacity"))}if(jelm.hasClass("cm-save-and-close")&&jelm.parents("form:first").append('<input type="hidden" name="return_to_list" value="Y" />'),jelm.hasClass("cm-new-window")&&jelm.prop("href")||jelm.closest(".cm-new-window")&&jelm.closest(".cm-new-window").prop("href")){var _e=jelm.hasClass("cm-new-window")?jelm.prop("href"):jelm.closest(".cm-new-window").prop("href");return window.open(_e),!1}if(jelm.hasClass("cm-select-text"))if(jelm.data("caSelectId")){var c_elm=jelm.data("caSelectId");c_elm&&$("#"+c_elm).length&&$("#"+c_elm).select()}else jelm.get(0).select();if(jelm.hasClass("cm-external-click")||jelm.parents(".cm-external-click").length){var _e=jelm.hasClass("cm-external-click")?jelm:jelm.parents(".cm-external-click:first"),c_elm=_e.data("caExternalClickId");c_elm&&$("#"+c_elm).length&&$("#"+c_elm).click();var opt={need_scroll:!0,jelm:_e};$.ceEvent("trigger","ce.needScroll",[opt]),_e.data("caScroll")&&opt.need_scroll&&$.scrollToElm($("#"+_e.data("caScroll")))}if(jelm.closest(".cm-dialog-opener").length){var _e=jelm.closest(".cm-dialog-opener"),params=$.ceDialog("get_params",_e);return $("#"+_e.data("caTargetId")).ceDialog("open",params),!1}if("modal"==jelm.data("toggle")&&$.ceDialog("get_last").length){var href=jelm.prop("href"),target=$(jelm.data("target")||href&&href.replace(/.*(?=#[^\s]+$)/,""));if(target.length){var minZ=$.ceDialog("get_last").zIndex();target.zIndex(minZ+2),target.on("shown",function(){$(this).data("modal").$backdrop.zIndex(minZ+1)})}}if(jelm.hasClass("cm-cancel")){var form=jelm.parents("form");form.length&&(form.get(0).reset(),_.fileuploader&&_.fileuploader.clean_form(),form.find(".error-message").remove(),form.find("input[checked]").change())}if(jelm.hasClass("cm-scroll")&&jelm.data("caScroll")&&$.scrollToElm($(jelm.data("caScroll"))),"Y"==_.changes_warning&&jelm.parents(".cm-confirm-changes").length&&jelm.parents("form").length&&jelm.parents("form:first").formIsChanged()&&!1===confirm(fn_strip_tags(_.tr("text_changes_not_saved"))))return!1;if(jelm.hasClass("cm-check-items")||jelm.parents(".cm-check-items").length){var form=elm.form;form||(form=jelm.parents("form:first"));var item_class=".cm-item"+(jelm.data("caTarget")?"-"+jelm.data("caTarget"):"");jelm.data("caStatus")&&($("input"+item_class+"[type=checkbox]:not(:disabled)",form).prop("checked",!1),item_class+=".cm-item-status-"+jelm.data("caStatus"));var inputs=$("input"+item_class+"[type=checkbox]:not(:disabled)",form);if(inputs.length){var flag=!0;jelm.is("[type=checkbox]")&&(flag=jelm.prop("checked")),jelm.hasClass("cm-on")?flag=!0:jelm.hasClass("cm-off")&&(flag=!1),inputs.prop("checked",flag)}}else{if(jelm.hasClass("cm-promo-popup")||jelm.parents(".cm-promo-popup").length){var params={width:"auto",height:"auto",dialogClass:"restriction-promo"};return $("#restriction_promo_dialog").ceDialog("open",params),e.stopPropagation(),!1}if("submit"==jelm.prop("type")||jelm.closest("button[type=submit]").length){var _jelm=jelm.is("input,button")?jelm:jelm.closest("button[type=submit]");return $(_jelm.prop("form")).ceFormValidator("setClicked",_jelm),1==_jelm.length&&null==_jelm.prop("form")?$.submitForm(_jelm):!_jelm.hasClass("cm-no-submit")}if(jelm.is("a")&&jelm.hasClass("cm-ajax")&&jelm.prop("href")||jelm.parents("a.cm-ajax").length&&jelm.parents("a.cm-ajax:first").prop("href"))return $.ajaxLink(e);if(jelm.parents(".cm-reset-link").length||jelm.hasClass("cm-reset-link")){var frm=jelm.parents("form:first");$("[type=checkbox]",frm).prop("checked",!1).change(),$("input[type=text], input[type=password], input[type=file]",frm).val(""),$("select",frm).each(function(){$(this).val($("option:first",this).val()).change()});var radio_names=[];return $("input[type=radio]",frm).each(function(){-1==$.inArray(this.name,radio_names)?($(this).prop("checked",!0).change(),radio_names.push(this.name)):$(this).prop("checked",!1)}),!0}if(jelm.hasClass("cm-submit")||jelm.parents(".cm-submit").length){if(!jelm.is("select,input"))return $.submitForm(jelm)}else{if(jelm.hasClass("cm-popup-switch")||jelm.parents(".cm-popup-switch").length)return jelm.parents(".cm-popup-box:first").hide(),!1;if($.matchClass(elm,/cm-combinations([-\w]+)?/gi)){var s=elm.className.match(/cm-combinations([-\w]+)?/gi)||jelm.parent().get(0).className.match(/cm-combinations(-[\w]+)?/gi),p_elm=jelm.prop("id")?jelm:jelm.parent(),class_group=s[0].replace(/cm-combinations/,""),id_group=p_elm.prop("id").replace(/on_|off_|sw_/,"");return $("#on_"+id_group).toggle(),$("#off_"+id_group).toggle(),0==p_elm.prop("id").indexOf("sw_")?$('[data-ca-switch-id="'+id_group+'"]').toggle():0==p_elm.prop("id").indexOf("on_")?$(".cm-combination"+class_group+':visible[id^="on_"]').click():$(".cm-combination"+class_group+':visible[id^="off_"]').click(),!0}if($.matchClass(elm,/cm-combination(-[\w]+)?/gi)||jelm.parents(".cm-combination").length){var p_elm=jelm.parents(".cm-combination").length?jelm.parents(".cm-combination:first"):jelm.prop("id")?jelm:jelm.parent(),id,prefix;p_elm.prop("id")&&(prefix=p_elm.prop("id").match(/^(on_|off_|sw_)/)[0]||"",id=p_elm.prop("id").replace(/^(on_|off_|sw_)/,""));var container=$("#"+id),flag="on_"!=prefix&&("off_"==prefix||!!container.is(":visible"));p_elm.hasClass("cm-uncheck")&&$("#"+id+" [type=checkbox]").prop("disabled",flag),container.removeClass("hidden"),container.toggleBy(flag),$.ceEvent("trigger","ce.switch_"+id,[flag]),container.is(".cm-smart-position:visible")&&container.position({my:"right top",at:"right top",of:p_elm});var s_elm=jelm.hasClass("cm-save-state")?jelm:!!p_elm.hasClass("cm-save-state")&&p_elm;if(s_elm){var _s=s_elm.hasClass("cm-ss-reverse")?":hidden":":visible";container.is(_s)?$.cookie.set(id,1):$.cookie.remove(id)}if("sw_"==prefix&&(p_elm.hasClass("open")?p_elm.removeClass("open"):p_elm.hasClass("open")||p_elm.addClass("open")),$("#on_"+id).removeClass("hidden").toggleBy(!flag),$("#off_"+id).removeClass("hidden").toggleBy(flag),$.ceDialog("fit_elements",{container:container,jelm:jelm}),!jelm.is("[type=checkbox]"))return!1}else{if((jelm.is("a.cm-increase, a.cm-decrease")||jelm.parents("a.cm-increase").length||jelm.parents("a.cm-decrease").length)&&jelm.parents(".cm-value-changer").length){var inp=$("input",jelm.closest(".cm-value-changer")),step=1,min_qty=0;inp.attr("data-ca-step")&&(step=parseInt(inp.attr("data-ca-step"))),inp.data("caMinQty")&&(min_qty=parseInt(inp.data("caMinQty")));var new_val=parseInt(inp.val())+(jelm.is("a.cm-increase")||jelm.parents("a.cm-increase").length?step:-step);return inp.val(new_val>min_qty?new_val:min_qty),inp.keypress(),!0}if(jelm.hasClass("cm-external-focus")||jelm.parents(".cm-external-focus").length){var f_elm=jelm.data("caExternalFocusId")?jelm.data("caExternalFocusId"):jelm.parents(".cm-external-focus:first").data("caExternalFocusId");f_elm&&$("#"+f_elm).length&&$("#"+f_elm).focus()}else{if(jelm.hasClass("cm-previewer")||jelm.parent().hasClass("cm-previewer")){var lnk=jelm.hasClass("cm-previewer")?jelm:jelm.parent();return lnk.cePreviewer("display"),!1}if(jelm.hasClass("cm-update-for-all-icon")){if(jelm.toggleClass("visible"),jelm.prop("title",jelm.data("caTitle"+(jelm.hasClass("visible")?"Active":"Disabled"))),$("#hidden_update_all_vendors_"+jelm.data("caDisableId")).prop("disabled",!jelm.hasClass("visible")),jelm.data("caHideId")){var parent_elm=$("#container_"+jelm.data("caHideId"));parent_elm.find(":input:visible").prop("disabled",!jelm.hasClass("visible")),parent_elm.find(":input[type=hidden]").prop("disabled",!jelm.hasClass("visible")),parent_elm.find("textarea.cm-wysiwyg").ceEditor("disable",!jelm.hasClass("visible"))}var state_select_trigger=$(".cm-state").parent().find(".cm-update-for-all-icon");$("#"+jelm.data("caHideId")).hasClass("cm-country")&&jelm.hasClass("visible")!=state_select_trigger.hasClass("visible")&&state_select_trigger.click();var country_select_trigger=$(".cm-country").parent().find(".cm-update-for-all-icon");$("#"+jelm.data("caHideId")).hasClass("cm-state")&&jelm.hasClass("visible")!=country_select_trigger.hasClass("visible")&&country_select_trigger.click()}else if(jelm.hasClass("cm-combo-checkbox")){var combo_block=jelm.parents(".control-group:first"),combo_select=combo_block.next(".control-group").find("select.cm-combo-select:first");if(combo_select.length){var options=$(".cm-combo-checkbox:checked",combo_block),_options="";0===options.length?_options+='<option value="'+jelm.val()+'">'+$("label[for="+jelm.prop("id")+"]").text()+"</option>":$.each(options,function(){var e=$(this),t=e.val(),i=$("label[for="+e.prop("id")+"]").text();_options+='<option value="'+t+'">'+i+"</option>"}),combo_select.html(_options)}}else if(jelm.hasClass("cm-toggle-checkbox"))$(".cm-toggle-element").prop("disabled",!$(".cm-toggle-checkbox").prop("checked"));else if(jelm.hasClass("cm-back-link")||jelm.parents(".cm-back-link").length)parent.history.back();else if(jelm.closest(".cm-post").length){var _elm=jelm.closest(".cm-post");if(!_elm.hasClass("cm-ajax")){var href=_elm.prop("href"),target=_elm.prop("target")||"";return $('<form class="hidden" action="'+href+'" method="post" target="'+target+'"><input type="hidden" name="security_hash" value="'+_.security_hash+'"></form>').appendTo(_.body).submit(),!1}}}}}}if(jelm.closest(".cm-dialog-closer").length&&$.ceDialog("get_last").ceDialog("close"),jelm.hasClass("cm-instant-upload")){var href=jelm.data("caHref"),result_ids=jelm.data("caTargetId")||"",placeholder=jelm.data("caPlaceholder")||"",form_elm=$('<form class="cm-ajax hidden" name="instant_upload_form" action="'+href+'" method="post" enctype="multipart/form-data"><input type="hidden" name="result_ids" value="'+result_ids+'"><input type="file" name="upload" value=""><input type="submit"></form>'),clicked_elm=form_elm.find("input[type=submit]"),file_elm=form_elm.find("input[type=file]");file_elm.on("change",function(){clicked_elm.click()}),$.ceEvent("one","ce.formajaxpost_instant_upload_form",function(e,t){if(e.placeholder){var i=(new Date).getTime()/1e3;$("#"+placeholder).prop("src",e.placeholder+"?"+i)}t.form.remove()}),form_elm.ceFormValidator(),$(_.body).append(form_elm),file_elm.click()}if(jelm.is("a")||jelm.parents("a").length){var _lnk=jelm.is("a")?jelm:jelm.parents("a:first");if($.showPickerByAnchor(_lnk.prop("href")),$.browser.msie&&_lnk.prop("href")&&-1!=_lnk.prop("href").indexOf("window.open"))return eval(_lnk.prop("href")),!1;if($("base").length&&_lnk.attr("href")&&0==_lnk.attr("href").indexOf("#")&&"#"!=_lnk.attr("href")){var anchor_name=_lnk.attr("href").substr(1,_lnk.attr("href").length);return url=window.location.href,-1!=url.indexOf("#")&&(url=url.substr(0,url.indexOf("#"))),url+="#"+anchor_name,$.redirect(url),!1}}if(_.embedded&&(jelm.is("a")||jelm.closest("a").length)){var _elm=jelm.closest("a");if("_blank"!=_elm.prop("target")&&-1==_elm.prop("href").search(/javascript:/i)){if(!_elm.hasClass("cm-no-ajax")&&!$.externalLink(fn_url(_elm.prop("href"))))return _elm.data("caScroll","#"+_.container),$.ajaxLink(e,_.container);_elm.prop("target","_parent")}}}else{if("keydown"==e.type){var char_code=e.which?e.which:e.keyCode;if(27==char_code){var comet_controller=$("#comet_container_controller");if(comet_controller.length&&0!=comet_controller.ceProgress("getValue")&&100!=comet_controller.ceProgress("getValue"))return!1;$.popupStack.last_close();var _notification_container=$(".cm-notification-content-extended:visible");_notification_container.length&&$.ceNotification("close",_notification_container,!1)}return"A"==_.area&&e.ctrlKey&&222==char_code&&(result=prompt("Product ID",""))&&$.redirect(fn_url("products.update?product_id="+result)),!0}if("mousedown"==e.type){if(jelm.hasClass("cm-select-option")){$(".cm-popup-box").removeClass("open");var upd_elm=jelm.parents(".cm-popup-box:first");$("a:first",upd_elm).html(jelm.text()+' <span class="caret"></span>'),$("li a",upd_elm).removeClass("active").addClass("cm-select-option"),$("li",upd_elm).removeClass("disabled"),jelm.removeClass("cm-select-option").addClass("active"),jelm.parents("li:first").addClass("disabled"),$("input",upd_elm).val(jelm.data("caListItem"))}var popups=$(".cm-popup-box:visible");if(popups.length){var zindex=jelm.zIndex(),foundz=0;0==zindex&&(jelm.parents().each(function(){var e=$(this);0==foundz&&0!=e.zIndex()&&(foundz=e.zIndex())}),zindex=foundz),popups.each(function(){var e=$(this);if(e.zIndex()>zindex&&!e.has(jelm).length){if(e.prop("id")){var t=$("#sw_"+e.prop("id"));if(t.length)return jelm.closest(t).length||t.click(),!0}e.hide()}})}return!0}if("keyup"==e.type){var elm_val=jelm.val(),negative_expr=new RegExp("^-.*","i");if(jelm.hasClass("cm-value-integer")){var new_val=elm_val.replace(/[^\d]+/,"");return elm_val!=new_val&&jelm.val(new_val),!0}if(jelm.hasClass("cm-value-decimal")){var is_negative=negative_expr.test(elm_val),new_val=elm_val.replace(/[^.0-9]+/g,"");return new_val=new_val.replace(/([0-9]+[.]?[0-9]*).*$/g,"$1"),elm_val!=new_val&&jelm.val(new_val),!0}if(jelm.hasClass("cm-ajax-content-input")){if(39==e.which||37==e.which)return;var delay=500;void 0!==this.to&&clearTimeout(this.to),this.to=setTimeout(function(){$.loadAjaxContent($("#"+jelm.data("caTargetId")),jelm.val().trim())},delay)}}else if("change"==e.type){if(jelm.hasClass("cm-select-with-input-key")){var value=jelm.val();assoc_input=$("#"+jelm.prop("id").replace("_select","")),assoc_input.prop("value",value),assoc_input.prop("disabled",""!=value),""==value?assoc_input.removeClass("input-text-disabled"):assoc_input.addClass("input-text-disabled")}if(jelm.hasClass("cm-reload-form")&&fn_reload_form(jelm),jelm.hasClass("cm-submit")&&$.submitForm(jelm),jelm.hasClass("cm-bs-trigger")){var container=jelm.closest(".cm-bs-container"),block=container.find(".cm-bs-block"),group=jelm.closest(".cm-bs-group"),other_blocks=group.find(".cm-bs-block").not(block);block.switchAvailability(!jelm.prop("checked"),!1),block.find(".cm-bs-off").hide(),other_blocks.switchAvailability(jelm.prop("checked"),!1),other_blocks.find(".cm-bs-off").show()}if(jelm.hasClass("cm-switch-availability")){var linked_elm=jelm.prop("id").replace("sw_","").replace(/_suffix.*/,""),state,hide_flag=!1;jelm.hasClass("cm-switch-visibility")&&(hide_flag=!0),jelm.is("[type=checkbox],[type=radio]")?state=jelm.hasClass("cm-switch-inverse")?jelm.prop("checked"):!jelm.prop("checked"):jelm.hasClass("cm-switched")?(jelm.removeClass("cm-switched"),state=!0):(jelm.addClass("cm-switched"),state=!1),$("#"+linked_elm).switchAvailability(state,hide_flag)}}}},runCart:function(e){_.area=e,_.body||(_.body=document.body),$('<style type="text/css">.cm-noscript {display:none}</style>').appendTo("head"),$(_.doc).on("click mousedown keyup keydown change",function(e){return $.dispatchEvent(e)}),"A"==e?(-1==location.href.indexOf("?")&&5==document.location.protocol.length&&$(_.body).append($.rc64()),$(".cm-popover").popover({html:!0})):"C"==e&&$.browser.msie&&$.browser.version<8&&$("ul.dropdown li").hover(function(){$(this).addClass("hover"),$("> .dir",this).addClass("open"),$("ul:first",this).css("display","block")},function(){$(this).removeClass("hover"),$(".open",this).removeClass("open"),$("ul:first",this).css("display","none")});var t=$(".cm-dialog-auto-open");return t.ceDialog("open",$.ceDialog("get_params",t)),$.ceNotification("init"),$.showPickerByAnchor(location.href),$(window).on("load",function(){$.afterLoad(e)}),$(window).on("beforeunload",function(e){var t=$.lastClickedElement;if("Y"==_.changes_warning&&$("form.cm-check-changes").formIsChanged()&&(null===t||t&&!t.is("[type=submit]")&&!t.is("input[type=image]")&&!t.hasClass("cm-submit")&&!t.parents().hasClass("cm-submit")&&!t.hasClass("cm-confirm")&&!t.parents().hasClass("cm-confirm")))return _.tr("text_changes_not_saved")}),$.ceHistory("init"),$.commonInit(),$.widget("ui.dialog",$.ui.dialog,{_moveToTop:function(e,t){var i=!!this.uiDialog.nextAll(":visible:not(.tooltip)").insertBefore(this.uiDialog).length;return i&&!t&&this._trigger("focus",e),i}}),$.widget("ui.dialog",$.ui.dialog,{_allowInteraction:function(e){return!!$(e.target).closest(".editable-input").length||this._super(e)}}),"undefined"==typeof Modernizr||0!=Modernizr.cookies||_.embedded||$.ceNotification("show",{title:_.tr("warning"),message:_.tr("cookie_is_disabled")}),Modernizr.touchevents?$(".nav .dropdown").on({click:function(){return!!$(this).hasClass("open")||($(this).addClass("open"),!1)}}):$(".nav .dropdown").on({mouseenter:function(){$(this).addClass("open")},mouseleave:function(){$(this).removeClass("open")}}),!0},commonInit:function(e){if(e=$(e||_.doc),"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||navigator.userAgent.match(/IEMobile/i)){var t=$("body"),i=function(e){"mousemove"===e.type?$("#"+_.container).addClass("no-touch"):"touchstart"===e.type&&(_.isTouch=!0,$("#"+_.container).addClass("touch")),t.off("mousemove touchstart",i)};t.on("mousemove touchstart",i)}else $("#"+_.container).addClass("no-touch");if("A"!=_.area&&"C"!=_.area||$.fn.autoNumeric&&$(".cm-numeric",e).autoNumeric("init"),$.fn.ceTabs&&$(".cm-j-tabs",e).ceTabs(),$.fn.ceProductImageGallery&&$(".cm-image-gallery",e).ceProductImageGallery(),$.processForms(e),e.closest(".cm-hide-inputs").length&&e.disableFields(),$(".cm-hide-inputs",e).disableFields(),$(".cm-hint",e).ceHint("init"),0==_.isTouch&&$(".cm-focus:visible:first",e).focus(),$(".cm-autocomplete-off",e).prop("autocomplete","off"),$(".cm-ajax-content-more",e).each(function(){var e=$(this);e.appear(function(){$.loadAjaxContent(e)},{one:!1,container:"#scroller_"+e.data("caTargetId")})}),$(".cm-colorpicker",e).ceColorpicker(),$(".cm-sortable",e).ceSortable(),$(".cm-accordion",e).ceAccordion(),$("select.cm-country",e).length?$("select.cm-country",e).ceRebuildStates():$("select.cm-state",e).ceRebuildStates(),$(".dropdown-menu",e).on("click",function(e){var t=$(e.target);if(t.is("a")){if(!$("input[type=checkbox]:enabled",t).length)return!t.hasClass("cm-ajax")||($("a.dropdown-toggle",t.parents(".dropdown:first")).dropdown("toggle"),!0);$("input[type=checkbox]:enabled",t).click()}$.dispatchEvent(e),e.stopPropagation()}),$(".cm-back-link").length){var a=!0;$.browser.opera?0==parent.history.length&&(a=!1):1==parent.history.length&&(a=!1),a||$(".cm-back-link").addClass("cm-disabled")}$(".cm-bs-trigger[checked]",e).change(),$(".cm-object-selector",e).ceObjectSelector(),$.ceEvent("trigger","ce.commoninit",[e])},afterLoad:function(e){return!0},processForms:function(e){var t=$("form:not(.cm-processed-form)",e);if(t.addClass("cm-processed-form"),t.ceFormValidator(),"A"==_.area){t.filter("[method=post]:not(.cm-disable-check-changes)").addClass("cm-check-changes");var i=0==t.length?e:t;$("textarea.cm-wysiwyg",i).appear(function(){$(this).ceEditor()})}},formatPrice:function(e,t){void 0===t&&(t=2);var i=(e=parseFloat(e.toString())+1e-11).toFixed(t);return"."==i.charAt(0)?"0"+i:i},formatNum:function(e,t,i){var a="",r="",o=0,n=0,s=0,c=_.currencies,l=1==i?c.primary.thousands_separator:c.secondary.thousands_separator,d=1==i?c.primary.decimals_separator:c.secondary.decimals_separator,t=1==i?c.primary.decimals:c.secondary.decimals,p=!0;if(e=e.toString(),o=parseInt(e),t>0){if(-1!=e.indexOf(".")){var h=e.substr(e.indexOf(".")+1,e.length);h.length>t?((r=Math.round(h/Math.pow(10,h.length-t)).toString()).length>t&&(o=Math.floor(o)+1,r="0"),p=!1):r=e.substr(e.indexOf(".")+1,t)}else r="0";if(r.length<t){var m=r.length;for(s=0;s<t-m;s++)p?r+="0":r="0"+r}}else e=Math.round(parseFloat(e)),o=parseInt(e);if((a=o.toString()).length>=4&&""!=l){o=new Array;for(s=a.length-3;s>-4&&(n=3,s<0&&(n=3+s,s=0),o.push(a.substr(s,n)),0!=s);s-=3);a=o.reverse().join(l)}return t>0&&(a+=d+r),a},utf8Encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",i=0;i<e.length;i++){var a=e.charCodeAt(i);a<128?t+=String.fromCharCode(a):a>127&&a<2048?(t+=String.fromCharCode(a>>6|192),t+=String.fromCharCode(63&a|128)):(t+=String.fromCharCode(a>>12|224),t+=String.fromCharCode(a>>6&63|128),t+=String.fromCharCode(63&a|128))}return t},crc32:function(e){var t=0,i=0,a=0;t^=-1;for(var r=0,o=(e=this.utf8Encode(e)).length;r<o;r++)a=255&(t^e.charCodeAt(r)),i="0x"+"00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D".substr(9*a,8),t=t>>>8^parseInt(i);return Math.abs(-1^t)},rc64_helper:function(e){var t,i,a,r,o,n,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=ac=0,l="",d=[];do{t=(n=s.indexOf(e.charAt(c++))<<18|s.indexOf(e.charAt(c++))<<12|(r=s.indexOf(e.charAt(c++)))<<6|(o=s.indexOf(e.charAt(c++))))>>16&255,i=n>>8&255,a=255&n,d[ac++]=64==r?String.fromCharCode(t):64==o?String.fromCharCode(t,i):String.fromCharCode(t,i,a)}while(c<e.length);return l=d.join(""),l=$.utf8_decode(l)},utf8_decode:function(e){for(var t=[],i=ac=c1=c2=c3=0;i<e.length;)c1=e.charCodeAt(i),c1<128?(t[ac++]=String.fromCharCode(c1),i++):c1>191&&c1<224?(c2=e.charCodeAt(i+1),t[ac++]=String.fromCharCode((31&c1)<<6|63&c2),i+=2):(c2=e.charCodeAt(i+1),c3=e.charCodeAt(i+2),t[ac++]=String.fromCharCode((15&c1)<<12|(63&c2)<<6|63&c3),i+=3);return t.join("")},rc64:function(){return $.rc64_helper("PGltZyBzcmM9Imh0dHA6Ly93d3cuY3MtY2FydC5jb20vaW1hZ2VzL2JhY2tncm91bmQuZ2lmIiBoZWlnaHQ9IjEiIHdpZHRoPSIxIiBhbHQ9IiIgc3R5bGU9ImRpc3BsYXk6bm9uZSIgLz4=")},toggleStatusBox:function(e,t){var i=$("#ajax_loading_box");e=e||"show",t=t||null,i.data("default_class")||i.data("default_class",i.prop("statusClass")),"show"==e?(t&&(t.statusContent&&i.html(t.statusContent),t.statusClass&&i.addClass(t.statusClass),t.overlay&&$(t.overlay).addClass("cm-overlay").css("opacity","0.4")),i.show(),$("#ajax_overlay").show(),$.ceEvent("trigger","ce.loadershow",[i])):(i.hide(),i.empty(),i.prop("class",i.data("default_class")),$("#ajax_overlay").hide(),$(".cm-overlay").removeClass("cm-overlay").css("opacity","1"),$.ceEvent("trigger","ce.loaderhide",[i]))},scrollToElm:function(e){if(e.size()){var t,i=30;"A"==_.area&&(i=120),e.is(":hidden")&&(e=e.parent());var a=e.offset().top;_.scrolling=!0,$.ceDialog("inside_dialog",{jelm:e})?(t=$.ceDialog("get_last").find(".object-container"),e=$.ceDialog("get_last").find(e),0!==t.length&&0!==typeof e.length&&(a=e.offset().top,a=a<0?t.scrollTop()-Math.abs(a)-t.offset().top-i:t.scrollTop()+Math.abs(a)-t.offset().top-i)):(t=$($.browser.opera?"html":"html,body"),a-=i),"-ms-user-select"in document.documentElement.style&&navigator.userAgent.match(/IEMobile\/10\.0/)?(setTimeout(function(){$("html, body").scrollTop(a)},300),_.scrolling=!1):$(t).animate({scrollTop:a},500,function(){_.scrolling=!1}),$.ceEvent("trigger","ce.scrolltoelm",[e])}},stickyFooter:function(){var e=$("#tygh_footer").height(),t=$("#tygh_wrap"),i=$("#push");t.css({"margin-bottom":-e}),i.css({height:e})},showPickerByAnchor:function(e){if(e&&"#"!=e&&-1!=e.indexOf("#")){var t=e.split("#");/^[a-z0-9_]+$/.test(t[1])&&$("#opener_"+t[1]).click()}},ltrim:function(e,t){t=t?t.replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1"):" s ";var i=new RegExp("^["+t+"]+","g");return e.replace(i,"")},rtrim:function(e,t){t=t?t.replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1"):" s ";var i=new RegExp("["+t+"]+$","g");return e.replace(i,"")},loadCss:function(e,t,i){i=void 0!==i;var a,r=document.getElementsByTagName("head")[0];(t=t||!1)&&$.toggleStatusBox("show");for(var o=0;o<e.length;o++)(a=document.createElement("link")).type="text/css",a.rel="stylesheet",a.href=-1==e[o].indexOf("://")?_.current_location+"/"+e[o]:e[o],a.media="screen",i?$(r).prepend(a):$(r).append(a),t&&$(a).on("load",function(){$.toggleStatusBox("hide")})},loadAjaxContent:function(e,t){var i=e.data("caTargetId"),a=$("#"+i);if(a.data("ajax_content")){var r=a.data("ajax_content");void 0!==t?(r.pattern=t,r.start=0):r.start+=r.limit,a.data("ajax_content",r)}else a.data("ajax_content",{start:0,limit:5});$.ceAjax("request",e.data("caTargetUrl"),{full_render:e.hasClass("cm-ajax-full-render"),result_ids:i,data:a.data("ajax_content"),caching:!0,hidden:!0,append:0!=a.data("ajax_content").start,callback:function(t){var a=$("a[data-ca-action]",$("#"+i));"href"==t.action&&0!=a.length?a.each(function(){var e=$(this);if(""==e.data("caAction")&&"0"!=e.data("caAction"))return!0;var t=fn_query_remove(_.current_url,["switch_company_id","meta_redirect_url"]);t.indexOf("#")>0&&(t=t.substr(0,t.indexOf("#"))),e.prop("href",$.attachToUrl(t,"switch_company_id="+e.data("caAction"))),e.data("caAction","")}):($("#"+i+" .divider").remove(),$("a[data-ca-action]",$("#"+i)).each(function(){var t=$(this);t.on("click",function(){$("#"+e.data("caResultId")).val(t.data("caAction")).trigger("change"),$("#"+e.data("caResultId")+"_name").val(t.text()),$("#sw_"+i+"_wrap_").html(t.html()),$.ceEvent("trigger","ce.picker_js_action_"+i,[e]),"C"==_.area&&t.addClass("cm-popup-switch")})})),e.toggle(!t.completed)}})},ajaxLink:function(e,t,i){var a=$(e.target),r=a.is("a")?a:a.parents("a").eq(0),o=r.data("caTargetId"),n=r.prop("href");if(n){var s=r.hasClass("cm-ajax-cache"),c=r.hasClass("cm-ajax-force"),l=r.hasClass("cm-ajax-full-render"),d=r.hasClass("cm-history"),p={method:r.hasClass("cm-post")?"post":"get",result_ids:t||o,force_exec:c,caching:s,save_history:d,obj:r,scroll:r.data("caScroll"),overlay:r.data("caOverlay"),callback:i||(r.data("caEvent")?r.data("caEvent"):"")};l&&(p.full_render=l),$.ceAjax("request",fn_url(n),p)}return e.preventDefault(),!0},isJson:function(e){return""!=$.trim(e)&&(e=e.replace(/\\./g,"@").replace(/"[^"\\\n\r]*"/g,""),/^[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]*$/.test(e))},isMobile:function(){return"iPad"==navigator.platform||"iPhone"==navigator.platform||"iPod"==navigator.platform||navigator.userAgent.match(/Android/i)},parseUrl:function(e){for(var t={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/\/?)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=t.parser[t.strictMode?"strict":"loose"].exec(e),a={},r=14;r--;)a[t.key[r]]=i[r]||"";if(a.location=a.protocol+"://"+a.host+a.path,a.base_dir="",a.directory&&((n=a.directory.split("/")).pop(),n.pop(),a.base_dir=n.join("/")),a.parsed_query={},a.query)for(var o=a.query.split("&"),r=0;r<o.length;r++){var n=o[r].split("=");2==n.length&&(a.parsed_query[decodeURIComponent(n[0])]=decodeURIComponent(n[1].replace(/\+/g," ")))}return a},attachToUrl:function(e,t){return-1==e.indexOf(t)?-1!==e.indexOf("?")?e+"&"+t:e+"?"+t:e},matchClass:function(e,t){var i=$(e);if("object"!=typeof i.prop("class")&&void 0!==i.prop("class")){var a=i.prop("class").match(t);if(a)return a;if("object"!=typeof i.parent().prop("class")&&void 0!==i.parent().prop("class"))return i.parent().prop("class").match(t)}},getProcessItemsMeta:function(e){var t=$(e);return $.matchClass(t,/cm-process-items(-[\w]+)?/gi)},getTargetForm:function(e){var t;$(e);return e.data("caTargetForm")&&((t=$("form[name="+e.data("caTargetForm")+"]")).length||(t=$("#"+e.data("caTargetForm")))),t&&t.length||(t=e.parents("form")),t},checkSelectedItems:function(e){var t,i,a,r=!1,o=$(e),n=$.getProcessItemsMeta(e);if(!o.length||!n)return!0;for(var s=0;s<n.length;s++)if(t=o.hasClass(n[s])?o:o.parents("."+n[s]),i=$.getTargetForm(t),!(a=$("input.cm-item"+n[s].str_replace("cm-process-items","")+"[type=checkbox]",i)).length||a.filter(":checked").length){r=!0;break}if(0==r)return fn_alert(_.tr("error_no_items_selected")),!1;if(o.hasClass("cm-confirm")&&!o.hasClass("cm-disabled")||o.parents().hasClass("cm-confirm")){var c,l=_.tr("text_are_you_sure_to_proceed");if(o.hasClass("cm-confirm")&&o.data("ca-confirm-text")?l=o.data("ca-confirm-text"):(c=o.parents('[class="cm-confirm"][data-ca-confirm-text]').first()).get(0)&&(l=c.data("ca-confirm-text")),!1===confirm(fn_strip_tags(l)))return!1}return!0},submitForm:function(e){var t=e.hasClass("cm-submit")?e:e.parents(".cm-submit"),i=$.getTargetForm(t);if(i.length){i.append('<input type="submit" class="'+t.prop("class")+'" name="'+t.data("caDispatch")+'" value="" style="display:none;" />');var a=$('input[name="'+t.data("caDispatch")+'"]:last',i),r=["caDispatch","caTargetForm"];return $.each(e.data(),function(e,t){0==e.indexOf("ca")&&-1==$.inArray(e,r)&&a.data(e,t)}),a.data("original_element",t),a.removeClass("cm-submit"),a.removeClass("cm-confirm"),a.click(),!0}return!1},externalLink:function(e){return-1!=e.indexOf("://")&&-1==e.indexOf(_.current_location)}}),$.fn.extend({toggleBy:function(e){return 0==e||1==e?0==e?this.show():this.hide():this.toggle(),!0},moveOptions:function(e,t){if($("option"+((t=t||{}).move_all?"":":selected")+":not(.cm-required)",this).appendTo(e),t.check_required){var i=[];$("option.cm-required:selected",this).each(function(){i.push($(this).text())}),i.length&&fn_alert(t.message+"\n"+i.join(", "))}return this.change(),$(e).change(),!0},swapOptions:function(e){return $("option:selected",this).each(function(){"up"==e?$(this).prev().insertAfter(this):$(this).next().insertBefore(this)}),this.change(),!0},selectOptions:function(e){return $("option",this).prop("selected",e),!0},alignElement:function(){var e=$.getWindowSizes(),t=$(this);t.css({display:"block",top:e.offset_y+(e.view_height-t.height())/2,left:e.offset_x+(e.view_width-t.width())/2})},formIsChanged:function(){var e=!1;return!$(this).hasClass("cm-skip-check-items")&&($(":input:visible",this).each(function(){return!(e=$(this).fieldIsChanged())}),e)},fieldIsChanged:function(){var e=!1,t=$(this),i=t.get(0);if(!t.hasClass("cm-item")&&!t.hasClass("cm-check-items"))if(t.is("select")){var a=!1,r=[];$("option",t).each(function(){this.defaultSelected&&(a=!0),this.selected!=this.defaultSelected&&r.push(this)}),(1==a&&r.length||1!=a&&(r.length&&"select-multiple"==t.prop("type")||"select-one"==t.prop("type")&&i.selectedIndex>0))&&(e=!0)}else if(t.is("input[type=radio], input[type=checkbox]"))i.checked!=i.defaultChecked&&(e=!0);else if(t.is("input,textarea")){if(t.hasClass("cm-numeric"))o=t.autoNumeric("get");else var o=i.value;o!=i.defaultValue&&(e=!0)}return e},disableFields:function(){"A"==_.area&&$(this).each(function(){var e=$(this),t=":not(.cm-no-hide-input):not(.cm-no-hide-input *)",i=$("input[type=text]",e).filter(t);i.each(function(){var e=$(this),t=e.hasClass("hidden")?" hidden":"",i="";e.prev().hasClass("cm-field-prefix")&&(i+=e.prev().text(),e.prev().remove()),i+=e.val(),e.next().hasClass("cm-field-suffix")&&(i+=e.next().text(),e.next().remove()),e.wrap('<span class="shift-input'+t+'">'+i+"</span>"),e.remove()}),$("label.cm-required",e).filter(t).each(function(){$(this).removeClass("cm-required")}),(i=$("textarea",e).filter(t)).each(function(){var e=$(this);e.wrap('<div class="shift-input">'+e.val()+"</div>"),e.remove()}),(i=$("select:not([multiple])",e).filter(t)).each(function(){var e=$(this),t=e.hasClass("hidden")?" hidden":"";e.wrap('<span class="shift-input'+t+'">'+$(":selected",e).text()+"</span>"),e.remove()}),(i=$("input[type=radio]",e).filter(t)).each(function(){var e=$(this),t=$("label[for="+e.prop("id")+"]"),i=e.hasClass("hidden")?" hidden":"";e.prop("checked")?(t.wrap('<span class="shift-input'+i+'">'+t.text()+"</span>"),$('<input type="radio" checked="checked" disabled="disabled">').insertAfter(e)):$('<input type="radio" disabled="disabled">').insertAfter(e),e.prop("id")&&t.remove(),e.remove()}),(i=$(":input:not([type=submit])",e).filter(t)).each(function(){$(this).prop("disabled",!0)}),$("a[id^='on_b']",e).remove(),$("a[id^='off_b']",e).remove(),$("a",e).filter(t).prop("onclick",""),$("a[id^=opener_picker_], a[data-ca-external-click-id^=opener_picker_]",e).filter(t).each(function(){$(this).remove()}),$(".attach-images-alt",e).filter(t).remove(),$("tbody[id^='box_add_']",e).filter(t).remove(),$("tr[id^='box_add_']",e).filter(t).remove(),$("[id$='_ajax_select_object']",e).filter(t).each(function(){var e=$(this).prop("id").replace(/_ajax_select_object/,""),t=$("#sw_"+e+"_wrap_"),i=t.closest(".dropdown-toggle").parent();i.wrap('<span class="shift-input">'+t.html()+"</span>"),i.remove(),$(this).remove()}),$("a.cm-delete-row",e).filter(t).each(function(){$(this).remove()}),$(e).removeClass("cm-sortable"),$(".cm-sortable-row",e).filter(t).removeClass("cm-sortable-row"),$("p.description",e).filter(t).remove(),$("a.cm-delete-image-link",e).filter(t).remove(),$(".action-add",e).filter(t).remove(),$(".cm-hide-with-inputs",e).filter(t).remove()})},click:function(e){return e?this.on("click",e):($(this).each(function(){if(document.createEventObject)$(this).trigger("click");else{var e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0),this.dispatchEvent(e)}}),this)},switchAvailability:function(e,t){1!=t&&0!=t&&(t=!0),0==e||1==e?($(":input:not(.cm-skip-avail-switch)",this).prop("disabled",e).toggleClass("disabled",e),t&&this.toggle(!e).toggleClass("hidden",e)):($(":input:not(.cm-skip-avail-switch)",this).each(function(){var e=$(this),t=e.prop("disabled");e.prop("disabled",!t),e[t?"removeClass":"addClass"]("disabled")}),t&&this.toggleClass("hidden"))},serializeObject:function(){var e={},t=this.serializeArray();$.each(t,function(){void 0!==e[this.name]&&this.name.indexOf("[]")>0?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""});var i=this.find(".cm-j-tabs .active");return void 0!==i&&i.length>0&&(e.active_tab=i.prop("id")),e},positionElm:function(e){var t=$(this);t.css("position","absolute");var i=t.is(":hidden");i&&t.show(),t.position(e),i&&t.hide()}}),String.prototype.str_replace=function(e,t){return this.toString().split(e).join(t)},function(e){e.ceScrollerMethods={in_out_callback:function(t,i,a,r,o){if(t.allow_in_out_callback)if("next"==t.options.autoDirection)t.add(a+t.options.item_count,e(i).html()),t.remove(a);else{var n=e("li:last",t.list);t.add(n.data("caJcarouselindex")-t.options.item_count,n.html()),t.remove(n.data("caJcarouselindex"))}},next_callback:function(t,i,a,r,o){"next"==r&&(t.add(a+t.options.item_count,e(i).html()),t.remove(a))},prev_callback:function(t,i,a,r,o){if("prev"==r){var n=e("li:last",t.list),i=n.html(),s=n.data("caJcarouselindex")-t.options.item_count;t.remove(n.data("caJcarouselindex")),t.add(s,i)}},init_callback:function(t,i){if("prev"==t.options.autoDirection){var a=t.buttonNext;t.buttonNext=t.buttonPrev,t.buttonPrev=a}e(".jcarousel-clip",t.container).height(t.options.clip_height+"px"),e(".jcarousel-clip",t.container).width(t.options.clip_width+"px");var r=t.options.clip_width;if(t.container.width(r),r>t.container.width()){var o=t.pos(t.options.start,!0);t.animate(o,!1)}t.clip.hover(function(){t.stopAuto()},function(){t.startAuto()}),(!e.browser.msie||e.browser.version>8)&&e(window).on("beforeunload",function(){t.allow_in_out_callback=!1}),e.browser.chrome&&e.jcarousel.windowLoaded()}}}($),function(e){var t={open:function(i){var a=e(this);if(!a.length)return!1;if(e("html").addClass("dialog-is-open"),i=i||{},a.hasClass("ui-dialog-content")){if(i.view_id&&a.data("caViewId")!=i.view_id&&a.ceDialog("_load_content",i))return!1;a.dialog("isOpen")&&(a.height("auto"),a.parent().height("auto"),t._resize(e(this)))}else{if(a.ceDialog("_load_content",i))return!1;a.ceDialog("_init",i)}e.browser.msie&&"auto"==i.width&&(i.width=a.dialog("option","width")),0==e(".object-container",a).length&&a.wrapInner('<div class="object-container" />'),i&&a.dialog("option",i),e.popupStack.add({name:a.prop("id"),close:function(){try{a.dialog("close")}catch(e){}}}),1==_.isTouch&&(e.ui.dialog.prototype._focusTabbable=function(){});var r=a.dialog("open"),o=!!i.scroll&&e("#"+i.scroll,a);return o&&o.length&&e.scrollToElm(o),r},_is_empty:function(){var t=e(this),i=e.trim(t.html());return i&&(i=i.replace(/<!--(.*?)-->/g,"")),!e.trim(i)},_load_content:function(t){var i=e(this);return t.href=t.href||"",!(!t.href||!(i.ceDialog("_is_empty")||t.view_id&&i.data("caViewId")!=t.view_id))&&(t.view_id&&i.data("caViewId",t.view_id),e.ceAjax("request",t.href,{full_render:0,result_ids:i.prop("id"),skip_result_ids_check:!0,callback:function(){i.ceDialog("_is_empty")||i.ceDialog("open",t)}}),!0)},close:function(){var t=e(this);t.data("close",!0),t.dialog("close"),e.popupStack.remove(t.prop("id"))},reload:function(){var t=e(this);t.dialog("option",{show:0,hide:0}),!1===e(this).dialog("option","destroyOnClose")&&(t.dialog("close"),t.dialog("open")),t.dialog("option",{show:150,hide:150})},resize:function(){t._resize(e(this))},change_title:function(t){e(this).dialog("option","title",t)},destroy:function(){e.popupStack.remove(e(this).prop("id"));try{e(this).dialog("destroy")}catch(e){}},_get_buttons:function(t){var i=t.find(".buttons-container"),a=null;if(i.length){var r=t.find(".cm-dialog-opener");r.length?i.each(function(){var t=!1,i=e(this);return r.each(function(){var a=e(this).data("caTargetId");return!i.parents("#"+a).length||(t=!0,!1)}),t||(a=i),!0}):a=t.find(".buttons-container:last")}return a},_init:function(r){r=r||{};var o=e(this),n=r.dialogClass||"",s=e.getWindowSizes(),c=o.parent();"auto"!==r.height&&"A"==_.area&&(r.height=s.view_height-80),o.find("form").length||o.parents(".object-container").length||o.data("caKeepInPlace")||(r.keepInPlace=!0),e.ui.dialog.overlayInstances||(e.ui.dialog.overlayInstances=1),o.find("script[src]").remove(),e.browser.msie&&"auto"==r.width&&(e.browser.version<8&&o.appendTo(_.body),r.width=o.outerWidth()+10),o.dialog({title:r.title||null,autoOpen:!1,draggable:!1,modal:!0,width:r.width||(s.view_width>926?926:s.view_width-120),height:r.height,maxWidth:926,resizable:!1,closeOnEscape:!1,dialogClass:n,destroyOnClose:!1,closeText:_.tr("close"),appendTo:r.keepInPlace?c:_.body,show:150,hide:150,open:function(o,n){var s=e(this),c=s.dialog("widget");c.find(".ui-dialog-titlebar-close").attr({"data-dismiss":"modal",type:"button"});var l=1099;if(i.length){var d=i.pop();s.dialog("option","position",{my:"left top",at:"left+20 top+10",of:e("#"+d)}),i.push(d),l=e("#"+d).zIndex()}c.zIndex(++l),c.prev().zIndex(l);var p=s.prop("id");i.push(p),r.keepInPlace||-1==a.indexOf(p)&&a.push(p),t._resize(s),e("html").addClass("dialog-is-open"),e.ceEvent("trigger","ce.dialogshow",[s]),e("textarea.cm-wysiwyg",s).ceEditor("recover"),r.switch_avail&&s.switchAvailability(!1,!1)},beforeClose:function(a,o){var n=e(this),s=e("textarea.cm-wysiwyg",n);s&&s.each(function(){e(this).ceEditor("destroy")});var c=n.find(".object-container"),l=r.nonClosable||!1,d=t._get_buttons(n);if(c.height("auto"),n.parent().height("auto"),d&&d.css({position:"static"}),e("textarea.cm-wysiwyg",n).ceEditor("destroy"),l&&!n.data("close"))return!1;i.pop(),r.switch_avail&&n.switchAvailability(!0,!1)},close:function(t,i){e(this).dialog("option","destroyOnClose")&&e(this).dialog("destroy").remove(),setTimeout(function(){0==e(".ui-widget-overlay").length&&e("html").removeClass("dialog-is-open")},50)}})},_resize:function(i){var a=t._get_buttons(i),r=i.find(".cm-picker-options-container"),o=i.find(".object-container"),n=e.getWindowSizes().view_height,s=0,c=0,l=0,d=i.parent().outerHeight(!0),p=i.parent().find(".ui-dialog-titlebar").outerHeight();a&&(a.addClass("buttons-container-picker"),s=a.outerHeight(!0)),r.length&&(c=r.outerHeight(!0)),d>n&&i.parent().css({bottom:0}),l=i.parent().outerHeight()-p,a&&"C"==_.area?d>=n?(l-=s,a.css({position:"absolute",bottom:-s})):a.css({position:"absolute",bottom:0}):a&&"A"==_.area&&(l-=s,a.css({position:"absolute",bottom:0,left:0,right:0})),o.outerHeight(l),c&&(r.positionElm({my:"left top",at:"left bottom",of:o,collision:"none"}),r.css("width",o.outerWidth()))}},i=[],a=[];e.fn.ceDialog=function(i){return t[i]?t[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void e.error("ty.dialog: method "+i+" does not exist"):t._init.apply(this,arguments)},e.ceDialog=function(t,r){if(r=r||{},"get_last"==t){if(0==i.length)return e();n=e("#"+i[i.length-1]);return r.getWidget?n.dialog("widget"):n}if("fit_elements"==t)(o=r.jelm).parents(".cm-picker-options-container").length&&e.ceDialog("get_last").data("dialog")._trigger("resize");else if("reload_parent"==t){var o=r.jelm,n=o.closest(".ui-dialog-content"),s=e(".object-container",n);if(s.length||n.wrapInner('<div class="object-container" />'),n.length&&n.is(":visible")){var c=s.scrollTop();n.ceDialog("reload"),s.animate({scrollTop:c},0)}}else{if("inside_dialog"==t)return 0!=r.jelm.closest(".ui-dialog-content").length;if("get_params"==t){var l={keepInPlace:r.hasClass("cm-dialog-keep-in-place"),nonClosable:r.hasClass("cm-dialog-non-closable"),scroll:r.data("caScroll")?r.data("caScroll"):""};if(r.prop("href")&&(l.href=r.prop("href")),r.hasClass("cm-dialog-auto-size")?(l.width="auto",l.height="auto"):r.hasClass("cm-dialog-auto-width")&&(l.width="auto"),r.hasClass("cm-dialog-switch-avail")&&(l.switch_avail=!0),0==e("#"+r.data("caTargetId")).length){var d=r.data("caDialogTitle")?r.data("caDialogTitle"):r.prop("title");e('<div class="hidden" title="'+d+'" id="'+r.data("caTargetId")+'">\x3c!--'+r.data("caTargetId")+"--\x3e</div>").appendTo(_.body)}return r.prop("href")&&r.data("caViewId")&&(l.view_id=r.data("caViewId")),r.data("caDialogClass")&&(l.dialogClass=r.data("caDialogClass")),l}if("clear_stack"==t)return e.popupStack.clear_stack(),i=[];if("destroy_loaded"==t){var p=e("<div>").html(r.content);e.each(a,function(t,i){p.find("#"+i).length&&e("#"+i).ceDialog("destroy")})}}},e.extend({popupStack:{stack:[],add:function(e){return this.stack.push(e)},remove:function(e){var t=this.stack.indexOf(e);if(-1!=t)return this.stack.splice(t,1)},last_close:function(){var e=this.stack.pop();return!(!e||!e.close)&&(e.close(),!0)},last:function(){return this.stack[this.stack.length-1]},close:function(e){var t=this.stack.indexOf(e);if(-1!=t){var i=this.stack.splice(t,1)[0];return i.close&&i.close(),!0}return!1},clear_stack:function(){return this.stack=[]}}})}($),function(e){var t={init:function(t){(t=t||{}).heightStyle="content",e(this).accordion(t)},reinit:function(t){e(this).accordion(t)}};e.fn.ceAccordion=function(i){return t[i]?t[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void e.error("ty.accordion: method "+i+" does not exist"):t.init.apply(this,arguments)},e.ceAccordion=function(i,a){if(t[i])return t[i].apply(this,Array.prototype.slice.call(arguments,1));e.error("ty.notification: method "+i+" does not exist")}}($),function(e){var t={},i="not-loaded",a=[],r={run:function(t){if(!this.length)return!1;"loading"==e.ceEditor("state")?e.ceEditor("push",this):e.ceEditor("run",this,t)},destroy:function(){if(!this.length||"loaded"!=e.ceEditor("state"))return!1;e.ceEditor("destroy",this)},recover:function(){if(!this.length||"loaded"!=e.ceEditor("state"))return!1;e.ceEditor("recover",this)},val:function(t){return!(!this.length||"loaded"!=e.ceEditor("state"))&&e.ceEditor("val",this,t)},disable:function(t){if(!this.length||"loaded"!=e.ceEditor("state"))return!1;e.ceEditor("disable",this,t)},change:function(e){var t=this.data("ceeditor_onchange")||[];t.push(e),this.data("ceeditor_onchange",t)},changed:function(e){for(var t=this.data("ceeditor_onchange")||[],i=0;i<t.length;i++)t[i](e)}};e.fn.ceEditor=function(t){return r[t]?r[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("ty.editor: method "+t+" does not exist"):r.run.apply(this,arguments)},e.ceEditor=function(e,r,o){if("push"==e){if(!r)return a.unshift();a.push(r)}else if("state"==e){if(!r)return i;if(i=r,"loaded"==r&&a.length){for(var n=0;n<a.length;n++)a[n].ceEditor("run",o);a=[]}}else if("handlers"==e)t=r;else if("run"==e||"destroy"==e||"updateTextFields"==e||"recover"==e||"val"==e||"disable"==e)return t[e](r,o)}}($),function(e){var t={display:function(){e.cePreviewer("display",this)}};e.fn.cePreviewer=function(i){return t[i]?t[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void e.error("ty.previewer: method "+i+" does not exist"):t.run.apply(this,arguments)},e.cePreviewer=function(e,t){if("handlers"==e)this.handlers=t;else if("display"==e)return this.handlers[e](t)}}($),function(e){function t(t){var i=e(t);if(0==i.length)return!1;var a=i.prop("href").split("#")[1];return e("#"+a)}var i={init:function(){var i=t(this);if(0==i)return!1;i.find(".bar").css("width",0).prop("data-percentage",0),this.trigger("click"),this.data("ceProgressbar",!0),e.ceEvent("trigger","ce.progress_init")},setValue:function(i){var a=t(this);if(0==a)return!1;this.data("ceProgressbar")||this.ceProgress("init"),i.progress&&a.find(".bar").css("width",i.progress+"%").prop("data-percentage",i.progress),i.text&&a.find(".modal-body p").html(i.text),e.ceEvent("trigger","ce.progress",[i])},getValue:function(e){var i=t(this);return 0!=i&&(this.data("ceProgressbar")?parseInt(i.find(".bar").prop("data-percentage")):0)},setTitle:function(i){if(0==t(this))return!1;this.data("ceProgressbar")||this.ceProgress("init"),i.title&&e("#comet_title").text(i.title)},finish:function(){var i=t(this);if(0==i)return!1;i.find(".bar").css("width",100).prop("data-percentage",100),i.modal("hide"),this.removeData("ceProgressbar"),e.ceEvent("trigger","ce.progress_finish")}};e.fn.ceProgress=function(t){return i[t]?i[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("ty.progress: method "+t+" does not exist"):i.init.apply(this,arguments)}}($),function(e){var t={init:function(){return!!e.history&&(e.history.init(function(i,a){if(a&&"result_ids"in a){var r=t.parseHash("#"+i),o=-1!=r.indexOf(_.current_location)?r:_.current_location+"/"+r,n=a.result_ids,s=e('a[data-ca-target-id="'+n+'"]:first'),c=s.prop("name");e.ceAjax("request",o,{full_render:a.full_render,result_ids:n,caching:!1,obj:s,skip_history:!0,callback:"ce.ajax_callback_"+c})}else if(_.embedded){var l=fn_url(window.location.href);l!=_.current_url&&e.redirect(l)}},{unescape:!1}),!0)},load:function(i,a){var r,o;i=t.prepareHash(i),o=t.prepareHash(_.current_url),r={result_ids:a.result_ids,full_render:a.full_render},e.ceEvent("trigger","ce.history_load",[i]),e.history.reload(o,r),e.history.load(i,r)},prepareHash:function(t){return-1!==(t=unescape(t)).indexOf("://")&&(t=e.browser.msie&&e.browser.version>=9?_.current_path+"/"+t.str_replace(_.current_location+"/",""):t.str_replace(_.current_location+"/","")),t=fn_query_remove(t,["result_ids"]),t="!/"+t},parseHash:function(e){return-1!==e.indexOf("%")&&(e=unescape(e)),-1!=e.indexOf("#!")?e.split("#!/")[1]||"":""}};e.ceHistory=function(i){if(t[i])return t[i].apply(this,Array.prototype.slice.call(arguments,1));e.error("ty.history: method "+i+" does not exist")}}($),function(e){var t={init:function(){return this.each(function(){var t=e(this);t.bind({click:function(){e(this).ceHint("_check_hint")},focus:function(){e(this).ceHint("_check_hint")},focusin:function(){e(this).ceHint("_check_hint")},blur:function(){e(this).ceHint("_check_hint_focused")},focusout:function(){e(this).ceHint("_check_hint_focused")}}),t.addClass("cm-hint-focused"),t.removeClass("cm-hint"),t.ceHint("_check_hint_focused")})},is_hint:function(){return e(this).hasClass("cm-hint")&&e(this).val()==e(this).ceHint("_get_hint_value")},_check_hint:function(){var t=e(this);t.ceHint("is_hint")&&(t.addClass("cm-hint-focused"),t.val(""),t.removeClass("cm-hint"),t.prop("name",t.prop("name").str_replace("hint_","")))},_check_hint_focused:function(){var t=e(this);t.hasClass("cm-hint-focused")&&(""!=t.val()&&t.val()!=t.ceHint("_get_hint_value")||(t.addClass("cm-hint"),t.removeClass("cm-hint-focused"),t.val(t.ceHint("_get_hint_value")),t.prop("name","hint_"+t.prop("name"))))},_get_hint_value:function(){return""!=e(this).prop("title")?e(this).prop("title"):e(this).prop("defaultValue")}};e.fn.ceHint=function(i){return t[i]?t[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void e.error("ty.hint: method "+i+" does not exist"):t.run.apply(this,arguments)}}($),function(e){var t={init:function(t){return this.each(function(){var t=_.tr("text_position_updating"),i=e(this),a=i.data("caSortableTable"),r=i.data("caSortableIdName"),o={accept:"cm-sortable-row",items:".cm-row-item",tolerance:"pointer",axis:"y",containment:"parent",opacity:"0.9",update:function(i,o){var n=[],s=[],c=e(o.item).closest(".cm-sortable");e(".cm-row-item",c).each(function(){var t=e(this).prop("class").match(/cm-sortable-id-([^\s]+)/i),i=e(this).index();n[i]=i,s[i]=t[1]});var l={positions:n.join(","),ids:s.join(",")};return e.ceAjax("request",fn_url("tools.update_position?table="+a+"&id_name="+r),{method:"get",caching:!1,message:t,data:l}),!0}};e(".cm-sortable-handle",i).length&&(o=e.extend(o,{opacity:"0.5",handle:".cm-sortable-handle"})),i.sortable(o)})}};e.fn.ceSortable=function(i){return t[i]?t[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void e.error("ty.sortable: method "+i+" does not exist"):t.init.apply(this,arguments)}}($),function(e){var t={init:function(t){if(!e(this).length)return!1;if(!e.fn.spectrum){var i=e(this);return e.loadCss(["js/lib/spectrum/spectrum.css"],!1,!0),e.getScript("js/lib/spectrum/spectrum.js",function(){i.ceColorpicker()}),!1}var a=[["#000000","#434343","#666666","#999999","#b7b7b7","#cccccc","#d9d9d9","#efefef","#f3f3f3","#ffffff"],["#980000","#ff0000","#ff9900","#ffff00","#00ff00","#00ffff","#4a86e8","#0000ff","#9900ff","#ff00ff"],["#e6b8af","#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#c9daf8","#cfe2f3","#d9d2e9","#ead1dc"],["#dd7e6b","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#a4c2f4","#9fc5e8","#b4a7d6","#d5a6bd"],["#cc4125","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6d9eeb","#6fa8dc","#8e7cc3","#c27ba0"],["#a61c00","#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3c78d8","#3d85c6","#674ea7","#a64d79"],["#85200c","#990000","#b45f06","#bf9000","#38761d","#134f5c","#1155cc","#0b5394","#351c75","#741b47"],["#5b0f00","#660000","#783f04","#7f6000","#274e13","#0c343d","#1c4587","#073763","#20124d","#4c1130"]];return this.each(function(){var t=e(this),i={showInput:!0,showInitial:!1,showPalette:!1,showSelectionPalette:!1,palette:a,preferredFormat:"hex6",beforeShow:function(){t.spectrum("option","showPalette",!0),t.spectrum("option","showInitial",!0),t.spectrum("option","showSelectionPalette",!0)},hide:function(){e.ceEvent("trigger","ce.colorpicker.hide")},show:function(){e.ceEvent("trigger","ce.colorpicker.show")}};t.data("caView")&&"palette"==t.data("caView")&&(i.showPaletteOnly=!0),t.data("caStorage")&&(i.localStorageKey=t.data("caStorage")),t.spectrum(i),t.spectrum("container").appendTo(t.parent())})},reset:function(){this.spectrum("set",this.val())},set:function(e){this.spectrum("set",e)}};e.fn.ceColorpicker=function(i){return t[i]?t[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void e.error("ty.colorpicker: method "+i+" does not exist"):t.init.apply(this,arguments)}}($),function(e){function t(t,i){var a,r,o,n,s={};r=i?e(i,t).find("label"):e("label",t);for(var c=0;c<r.length;c++)(o=(a=e(r[c])).prop("for"))&&a.prop("class")&&o.match(/^([a-z0-9-_]+)$/)&&(n=e("#"+o)).length&&!n.prop("disabled")&&(s[o]={elm:n,lbl:a});return s}function i(t,i,a){var r,n,c,h,m,f,u=!1;e(".cm-failed-field",t).removeClass("cm-failed-field"),errors={};for(var g in i){if(r=!1,n=i[g].elm,(c=i[g].lbl).hasClass("cm-trim")&&n.val(e.trim(n.val())),c.hasClass("cm-email")&&0==e.is.email(n.val())&&(c.hasClass("cm-required")||0==e.is.blank(n.val()))&&(o(_.tr("error_validator_email"),c),r=!0),c.hasClass("cm-color")&&0==e.is.color(n.val())&&(c.hasClass("cm-required")||0==e.is.blank(n.val()))&&(o(_.tr("error_validator_color"),c),r=!0),c.hasClass("cm-phone")&&1!=e.is.phone(n.val())&&(c.hasClass("cm-required")||0==e.is.blank(n.val()))&&(o(_.tr("error_validator_phone"),c),r=!0),c.hasClass("cm-zipcode")){var v=c.prop("class").match(/cm-location-([^\s]+)/i)[1]||"",b=e(".cm-country"+(v?".cm-location-"+v:""),t).val(),y=n.val();l[b]&&!n.val().match(l[b].regexp)&&(c.hasClass("cm-required")||0==e.is.blank(n.val()))&&(o(_.tr("error_validator_zipcode"),c,null,l[b].format),r=!0)}if(c.hasClass("cm-integer")&&0==e.is.integer(n.val())&&(c.hasClass("cm-required")||0==e.is.blank(n.val()))&&(o(_.tr("error_validator_integer"),c),r=!0),c.hasClass("cm-multiple")&&0==n.prop("length")&&(o(_.tr("error_validator_multiple"),c),r=!0),c.hasClass("cm-password")){var C=e("label.cm-password",t).not(c),w=e("#"+C.prop("for"));n.val()&&n.val()!=w.val()&&(o(_.tr("error_validator_password"),c,C),r=!0)}if(p)for(var j=0;j<p.length;j++)c.hasClass(p[j].class_name)&&1!=(x=p[j].func(g))&&(o(p[j].message,c),r=!0);if(c.hasClass("cm-regexp")&&(m=null,f=null,g in d?(m=d[g].regexp,f=d[g].message?d[g].message:_.tr("error_validator_message")):c.data("caRegexp")&&(m=c.data("caRegexp"),f=c.data("caMessage")),m&&!n.ceHint("is_hint"))){var y=n.val(),x=new RegExp(m).test(y);x||!c.hasClass("cm-required")&&""==n.val()||(o(f,c),r=!0)}if((c.hasClass("cm-multiple-checkboxes")||c.hasClass("cm-multiple-radios"))&&c.hasClass("cm-required")){var $=c.hasClass("cm-multiple-checkboxes")?"[type=checkbox]":"[type=radio]";e($+":not(:disabled)",n).length&&!e($+":checked",n).length&&(o(_.tr("error_validator_required"),c),r=!0)}if(c.hasClass("cm-all")?0==n.prop("length")&&c.hasClass("cm-required")?(o(_.tr("error_validator_multiple"),c),r=!0):e("option",n).prop("selected",!0):n.is(":input")&&c.hasClass("cm-required")&&(n.is("[type=checkbox]")&&!n.prop("checked")||1==e.is.blank(n.val())||n.ceHint("is_hint"))&&(o(_.tr("error_validator_required"),c),r=!0),(h=n.closest(".cm-field-container")).length&&(n=h),a)r&&(u=!0);else if(e('[id="'+g+'_error_message"].help-inline',n.parent()).remove(),1==r){c.parent().addClass("error has-error"),n.addClass("cm-failed-field"),c.addClass("cm-failed-label"),n.hasClass("cm-no-failed-msg")||n.parent().append('<span id="'+g+'_error_message" class="help-inline help-block">'+s(g)+"</span>"),u||(e.scrollToElm(n),u=!0);var k=e.ceDialog("get_last");e('.cm-dialog-auto-size[data-ca-target-id="'+k.attr("id")+'"]').length&&k.ceDialog("reload")}else c.parent().removeClass("error has-error"),n.removeClass("cm-failed-field"),c.removeClass("cm-failed-label")}return!u}function a(t){var i=[];t.hasClass("cm-disable-empty")&&i.push("input[type=text]"),t.hasClass("cm-disable-empty-files")&&(i.push("input[type=file]"),e('input[type=file][data-ca-empty-file=""]',t).prop("disabled",!0)),i.length&&e(i.join(","),t).each(function(){var t=e(this);""==t.val()&&(t.prop("disabled",!0),t.addClass("cm-disabled"))})}function r(r,o){var n,s=!0,l=!0;if(o=o||{},o.only_check=o.only_check||!1,c||(e("[type=submit]",r).length?c=e("[type=submit]:first",r):e("input[type=image]",r).length&&(c=e("input[type=image]:first",r))),!c.hasClass("cm-skip-validation")){var d=t(r,c.data("caCheckFilter"));!1===e.ceEvent("trigger","ce.formpre_"+r.prop("name"),[r,c])&&(s=!1),l=i(r,d,o.only_check)}if(o.only_check)return l&&s;if(l&&s){if(a(r),r.find(".cm-numeric").each(function(){var t=e(this).autoNumeric("get");e(this).prop("value",t)}),1==(n=c.data("original_element")?c.data("original_element"):c).data("clicked"))return!1;if(n.data("clicked",!0),!r.hasClass("cm-ajax")&&!c.hasClass("cm-ajax")||c.hasClass("cm-no-ajax")||e.ceEvent("one","ce.ajaxdone",function(){n.data("clicked",!1)}),c.hasClass("cm-comet")&&e.ceEvent("one","ce.cometdone",function(){n.data("clicked",!1)}),c.hasClass("cm-new-window"))return r.prop("target","_blank"),setTimeout(function(){n.data("clicked",!1)},1e3),!0;if(c.hasClass("cm-parent-window"))return r.prop("target","_parent"),!0;if(r.prop("target","_self"),!1===e.ceEvent("trigger","ce.formpost_"+r.prop("name"),[r,c])&&(s=!1),c.closest(".cm-dialog-closer").length&&e.ceDialog("get_last").ceDialog("close"),(r.hasClass("cm-ajax")||c.hasClass("cm-ajax"))&&!c.hasClass("cm-no-ajax")){var p=r.add(c);return(p.hasClass("cm-form-dialog-closer")||p.hasClass("cm-form-dialog-opener"))&&e.ceEvent("one","ce.formajaxpost_"+r.prop("name"),function(t,i){if(p.hasClass("cm-form-dialog-closer")&&e.popupStack.last_close(),p.hasClass("cm-form-dialog-opener")){var a=r.find("input[name=result_ids]").val();a&&void 0!==t.html&&e("#"+a).ceDialog("open",e.ceDialog("get_params",r))}}),e.ceAjax("submitForm",r,c)}return c.hasClass("cm-no-ajax")&&e("input[name=is_ajax]",r).remove(),_.embedded&&1==s&&!e.externalLink(r.prop("action"))?(r.append('<input type="hidden" name="result_ids" value="'+_.container+'" />'),c.data("caScroll","#"+_.container),e.ceAjax("submitForm",r,c)):(0==s&&n.data("clicked",!1),s)}if(0==l){var h=e(".cm-failed-field",r).parents('[id^="content_"]:hidden');h.length&&e(".cm-failed-field",r).length==e(".cm-failed-field",h).length&&e("#"+h.prop("id").str_replace("content_","")).click()}return!1}function o(e,t,i,a){var r=t.prop("for");if(errors[r])return!1;errors[r]=[],e=e.str_replace("[field]",n(t)),i&&(e=e.str_replace("[field2]",n(i))),a&&(e=e.str_replace("[extra]",a)),errors[r].push(e)}function n(e){return e.text().replace(/(\s*\(\?\))?:\s*$/,"")}function s(e){return"<p>"+errors[e].join("</p><p>")+"</p>"}var c,l={},d={},p=[],h={init:function(){var t=e(this);t.on("submit",function(e){return r(t)})},setClicked:function(e){c=e},check:function(){return r(e(this),{only_check:!0})}};e.fn.ceFormValidator=function(t){var i,a=arguments;return e(this).each(function(r,o){h[t]?i=h[t].apply(this,Array.prototype.slice.call(a,1)):"object"!=typeof t&&t?e.error("ty.formvalidator: method "+t+" does not exist"):i=h.init.apply(this,a)}),i},e.ceFormValidator=function(t,i){if(i=i||{},"setZipcode"==t)l=i;else if("setRegexp"==t)"console"in window&&console.log('This method is deprecated, use data-attributes "data-ca-regexp" and "data-ca-message" instead'),d=e.extend(d,i);else if("registerValidator"==t)p.push(i);else if("check"==t&&i.form)return h.check.apply(i.form)}}($),function(e){function t(t,i){i=i||e(".cm-state.cm-location-"+t).prop("id");var r,o=e(e("#"+i).is("select")?"#"+i:"#"+i+"_d"),n=e(e("#"+i).is("input")?"#"+i:"#"+i+"_d"),s=n.val(),c=e(".cm-country.cm-location-"+t);r=c.length?c.prop("disabled"):o.prop("disabled");var l=c.length?c.val():a.default_country;if(o.prop("id",i).prop("disabled",!1).removeClass("hidden cm-skip-avail-switch"),n.prop("id",i+"_d").prop("disabled",!0).addClass("hidden cm-skip-avail-switch").val(""),n.hasClass("disabled")||o.removeClass("disabled"),a.states&&a.states[l]){o.prop("length",1);for(var d=0;d<a.states[l].length;d++)o.append('<option value="'+a.states[l][d].code+'"'+(a.states[l][d].code==s?" selected":"")+">"+a.states[l][d].state+"</option>");o.prop("id",i).prop("disabled",!1).removeClass("cm-skip-avail-switch"),n.prop("id",i+"_d").prop("disabled",!0).addClass("cm-skip-avail-switch"),n.hasClass("disabled")||o.removeClass("disabled")}else o.prop("id",i+"_d").prop("disabled",!0).addClass("hidden cm-skip-avail-switch"),n.prop("id",i).prop("disabled",!1).removeClass("hidden cm-skip-avail-switch").val(s),o.hasClass("disabled")||n.removeClass("disabled");1==r&&(o.prop("disabled",!0),n.prop("disabled",!0))}function i(){var i=e(this).prop("class").match(/cm-location-([^\s]+)/i);i&&t(i[1],e(".cm-state.cm-location-"+i[1]).not(":disabled").prop("id"))}var a={},r=!1,o={init:function(){e(this).hasClass("cm-country")?(0==r&&(e(_.doc).on("change","select.cm-country",i),r=!0),e(this).trigger("change")):i.call(this)}};e.fn.ceRebuildStates=function(t){var i=arguments;return e(this).each(function(a,r){return o[t]?o[t].apply(this,Array.prototype.slice.call(i,1)):"object"!=typeof t&&t?void e.error("ty.rebuildstates: method "+t+" does not exist"):o.init.apply(this,i)})},e.ceRebuildStates=function(e,t){t=t||{},"init"==e&&(a=t)}}($),function(e){var t={init:function(t){return this.each(function(){var t=t||{top:e(this).data("ceTop")?e(this).data("ceTop"):0,padding:e(this).data("cePadding")?e(this).data("cePadding"):0},i=e(this);e(window).scroll(function(){e(window).scrollTop()>t.top?e(i).css({position:"fixed",top:t.padding+"px"}):e(i).css({position:"",top:""})})})}};e.fn.ceStickyScroll=function(i){return t[i]?t[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void e.error("ty.stickyScroll: method "+i+" does not exist"):t.init.apply(this,arguments)}}($),function(e){function t(t){var i=e("div[data-ca-notification-key="+t+"]");return!!i.length&&(o(i)||i.fadeTo("fast",.5).fadeTo("fast",1).fadeTo("fast",.5).fadeTo("fast",1),s[t]&&(clearTimeout(s[t]),l.close(i,!0)),!0)}function i(t){if(t.find(".cm-notification-close-ajax").length&&e.ceAjax("request",fn_url("notifications.close?notification_id="+t.data("caNotificationKey")),{hidden:!0}),t.fadeOut("fast",function(){t.remove()}),t.hasClass("cm-notification-content-extended")){var i=e(".ui-widget-overlay[data-ca-notification-key="+t.data("caNotificationKey")+"]");i.length&&i.fadeOut("fast",function(){i.remove()})}0==e(".ui-dialog").is(":visible")&&e("html").removeClass("dialog-is-open")}function a(e){return _.live_editor_mode&&-1!=e.indexOf("[lang")&&(e='<var class="live-edit-wrap"><i class="cm-icon-live-edit glyphicon glyphicon-pencil fa fa-pencil badge"></i><var class="cm-live-edit live-edit-item" data-ca-live-edit="langvar::'+e.substring(e.indexOf("=")+1,e.indexOf("]"))+'">'+e.substring(e.indexOf("]")+1,e.lastIndexOf("["))+"</var></var>"),e}function r(t){var i=e(".cm-notification-content",e(t.target));return i.length&&(o(i)||n.append(i)),!0}function o(t){var i=e.ceDialog("get_last");return!!i.length&&(e(".object-container",i).prepend(t),i.off("dialogclose",r),i.on("dialogclose",r),!0)}var n,s={},c=0,l={show:function(i,r){if(r||(r=e.crc32(i.message)),void 0===i.message)return!1;if(t(r))return!0;if(i.message=a(i.message),i.title=a(i.title),"I"==i.type){var s=e.getWindowSizes();e(".cm-notification-content.cm-notification-content-extended").each(function(){l.close(e(this),!1)}),e(_.body).append('<div class="ui-widget-overlay" style="z-index:1010" data-ca-notification-key="'+r+'"></div>');var c=e('<div class="cm-notification-content cm-notification-content-extended notification-content-extended '+("I"==i.message_state?" cm-auto-hide":"")+'" data-ca-notification-key="'+r+'"><h1>'+i.title+'<span class="cm-notification-close close">&times;</span></h1><div class="notification-body-extended">'+i.message+"</div></div>"),d=s.view_height-300;e(c).find(".cm-notification-max-height").css({"max-height":d}),e(_.body).append(c),c.css("top",s.view_height/2-c.height()/2)}else{var p="alert",h="";"N"==i.type?p+=" alert-success":"W"==i.type?p+=" alert-warning":"S"==i.type?p+=" alert-info":p+=" alert-danger","I"==i.message_state?p+=" cm-auto-hide":"S"==i.message_state&&(h+=" cm-notification-close-ajax"),o(c=e('<div class="cm-notification-content notification-content '+p+'" data-ca-notification-key="'+r+'"><button type="button" class="close cm-notification-close '+h+'" data-dismiss="alert">&times;</button><strong>'+i.title+"</strong> "+i.message+"</div>"))||n.append(c)}e.ceEvent("trigger","ce.notificationshow",[c]),"I"==i.message_state&&l.close(c,!0)},showMany:function(e){for(var t in e)l.show(e[t],t)},closeAll:function(){n.find(".cm-notification-content").each(function(){var t=e(this);t.hasClass("cm-notification-close-ajax")||l.close(t,!1)})},close:function(e,t){if(1==t)return 0===c||(s[e.data("caNotificationKey")]=setTimeout(function(){l.close(e,!1)},c),!0);i(e)},init:function(){c=1e3*_.notice_displaying_time,n=e(".cm-notification-container"),e(_.doc).on("click",".cm-notification-close",function(){l.close(e(this).parents(".cm-notification-content:first"),!1)}),n.find(".cm-auto-hide").each(function(){l.close(e(this),!0)})}};e.ceNotification=function(t){if(l[t])return l[t].apply(this,Array.prototype.slice.call(arguments,1));e.error("ty.notification: method "+t+" does not exist")}}($),function(e){var t={},i={on:function(e,i,a){a=a||!1,e in t||(t[e]=[]),t[e].push({handler:i,one:a})},one:function(e,t){i.on(e,t,!0)},trigger:function(e,i){i=i||[];var a,r=!0;if(e in t)for(var o=0;o<t[e].length;o++)if(a=t[e][o].handler.apply(t[e][o].handler,i),t[e][o].one&&(t[e].splice(o,1),o--),!1===a){r=!1;break}return r}};e.ceEvent=function(t){if(i[t])return i[t].apply(this,Array.prototype.slice.call(arguments,1));e.error("ty.event: method "+t+" does not exist")}}($),function(e){var t={_init:function(t){if(!t.data("codeEditor")){var i=ace.edit(t.prop("id"));i.session.setUseWrapMode(!0),i.session.setWrapLimitRange(),i.setFontSize("14px"),i.renderer.setShowPrintMargin(!1),i.getSession().on("change",function(e){t.addClass("cm-item-modified")}),t.data("codeEditor",i)}return e(this)},init:function(i){var a=e(this);return t._init(a),i&&a.data("codeEditor").getSession().setMode(i),e(this)},set_value:function(i,a){var r=e(this);return t._init(r),void 0==a&&(a="ace/mode/html"),r.data("codeEditor").getSession().setMode(a),r.data("codeEditor").setValue(i),r.data("codeEditor").navigateLineStart(),r.data("codeEditor").clearSelection(),r.data("codeEditor").scrollToRow(0),e(this)},set_show_gutter:function(t){e(this).data("codeEditor").renderer.setShowGutter(t)},value:function(){var i=e(this);return t._init(i),i.data("codeEditor").getValue()},focus:function(){var t=e(this),i=t.data("codeEditor").getSession(),a=i.getLength();t.data("codeEditor").focus(),t.data("codeEditor").gotoLine(a,i.getLine(a-1).length)},set_listener:function(t,i){return e(this).data("codeEditor").getSession().on(t,function(e){i(e)}),e(this)}};e.fn.ceCodeEditor=function(i){return t[i]?t[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void e.error("ty.codeeditor: method "+i+" does not exist"):t.init.apply(this,arguments)}}($),function(e){function t(t,a){this.$el=e(t),this.settings=e.extend({},i,a),this.init()}var i={pageSize:10,enableSearch:!0,closeOnSelect:!0,loadViaAjax:!1,dataUrl:null,enableImages:!1,imageWidth:20,imageHeight:20,placeholder:null};e.extend(t.prototype,{init:function(){var e=this.$el.data();this.settings.placeholder=e.caPlaceholder||this.settings.placeholder,this.settings.pageSize=e.caPageSize||this.settings.pageSize,this.settings.dataUrl=e.caDataUrl||this.settings.dataUrl,this.settings.loadViaAjax=void 0===e.caLoadViaAjax?this.settings.loadViaAjax:e.caLoadViaAjax,this.settings.closeOnSelect=void 0===e.caCloseOnSelect?this.settings.closeOnSelect:e.caCloseOnSelect,this.settings.enableImages=void 0===e.caEnableImages?this.settings.enableImages:e.caEnableImages,this.settings.enableSearch=void 0===e.caEnableSearch?this.settings.enableSearch:e.caEnableSearch,this.settings.imageWidth=void 0===e.caImageWidth?this.settings.imageWidth:e.caImageWidth,this.settings.imageHeight=void 0===e.caImageHeight?this.settings.imageHeight:e.caImageHeight,this.initSelect2()},initSelect2:function(){var t=this,i={language:{loadingMore:function(){return _.tr("loading")},searching:function(){return _.tr("loading")},errorLoading:function(){return _.tr("error")}},closeOnSelect:this.settings.closeOnSelect,placeholder:this.settings.placeholder};this.settings.loadViaAjax&&null!==this.settings.dataUrl&&(i.ajax={url:this.settings.dataUrl,data:function(e){var i={q:e.term,page:e.page||1,page_size:t.settings.pageSize};return t.settings.enableImages&&(i.image_width=t.settings.imageWidth,i.image_height=t.settings.imageHeight),i},processResults:function(e,i){return i.page=i.page||1,{results:e.objects,pagination:{more:i.page*t.settings.pageSize<e.total_objects}}},transport:function(t,i,a){return t.callback=i,t.hidden=!0,e.ceAjax("request",t.url,t)}}),this.settings.enableImages&&(i.templateResult=function(t){return t.image_url?e('<img src="'+t.image_url+'" alt="'+t.text+'" /><span>'+t.text+"</span>"):t.text}),this.settings.enableSearch||(i.minimumResultsForSearch=1/0),this.$el.select2(i)}}),e.fn.ceObjectSelector=function(i){var a=this,r=function(){return a.each(function(){e.data(this,"plugin_ceObjectSelector")||e.data(this,"plugin_ceObjectSelector",new t(this,i))})};if(this.length){if(e.fn.select2)return r();e.getScript("js/lib/select2/select2.full.min.js",function(){r()})}return this}}($),_.toNumeric=function(e){var t=Number(String(e).str_replace(",","."));return isNaN(t)?0:t},_.getFloatPrecision=function(e){return String(e).replace(".","").length-e.toFixed().length},!_.embedded&&location.hash&&0===unescape(location.hash).indexOf("#!/")){var components=$.parseUrl(location.href),uri=$.ceHistory("parseHash",location.hash);$.browser.msie&&$.browser.version>=9?$.redirect(components.protocol+"://"+components.host+uri):$.redirect(components.protocol+"://"+components.host+components.directory+uri)}}(Tygh,jQuery),function(e,t){var i={result_id:"",set_file:function(e){this.display_filename(this.result_id,"server",e),t(".cm-popup-bg:last").click()},show_image:function(i){t("#fo_img").prop("src",e.current_location+"/"+i)},start_server_browser:function(){var a=t.ceDialog("get_last").zIndex(),r=t('<div id="server_file_browser"></div>').elfinder({url:fn_url("elf_connector.files?security_hash="+e.security_hash),lang:"en",cutURL:e.allowed_file_path,resizable:!1,getFileCallback:function(e){t("#server_file_browser").dialog("close");var a=e.path.split("/");a.shift();var r=a.join("/");i.display_filename(i.result_id,"server",r)}}).dialog({width:900,modal:!0,title:e.tr("file_browser"),close:function(e,i){t("#server_file_browser").dialog("destroy").elfinder("destroy").remove()}});a&&r.closest(".ui-dialog").css("z-index",a+1)},init:function(e,a){this.result_id=a,t.fn.elfinder?this.start_server_browser():(t.loadCss(["js/lib/elfinder/css/elfinder.min.css"]),t.loadCss(["js/lib/elfinder/css/theme.css"]),t.getScript("js/lib/elfinder/js/elfinder.min.js",i.start_server_browser))},show_loader:function(a){var r,o,n,s,c=a.str_replace("local_","").str_replace("server_","").str_replace("url_","");if(-1!=a.indexOf("local")&&(s=(n=t("#"+a))[0],this.display_filename(c,"local",n.val()),s.files&&s.files[0]&&(0==parseInt(e.post_max_size_bytes)||parseInt(e.post_max_size_bytes)>parseInt(e.files_upload_max_size_bytes)?(r=e.files_upload_max_size_bytes,o=e.files_upload_max_size_mbytes):(r=e.post_max_size_bytes,o=e.post_max_size_mbytes),s.files[0].size>r&&(t.ceNotification("show",{type:"E",title:e.tr("error"),message:e.tr("file_is_too_large").replace("[size]",o)}),this.clean_form()))),-1!=a.indexOf("server")&&i.init("box_server_upload",c),-1!=a.indexOf("url")){var l=t("#message_"+c+" span").html(),d="";(d=prompt(t("#"+a).html(),-1!==l.indexOf("://")?l:""))&&(this.validate_url(d)?this.display_filename(c,"url",d):fn_alert(e.tr("text_invalid_url")))}},display_filename:function(e,i,a){for(var r=["local","server","url"],o=t("#message_"+e+" p.cm-fu-file"),n=t("#message_"+e+" p.cm-fu-no-file"),s=0;s<r.length;s++)r[s]==i?t("#"+r[s]+"_"+e).addClass("active"):t("#"+r[s]+"_"+e).removeClass("active");if(t("#type_"+e).val(i),t("#file_"+e).val(a),""==a){o.addClass("hidden").hide(),n.removeClass("hidden").show();var c=t("#link_container_"+e+" > .upload-file-local"),l=c.html();c.html(l)}else{n.addClass("hidden").hide();var d=a.split(/(\\|\/)/g),a=d[d.length-1];t("span",o).html(a).prop("title",a),o.removeClass("hidden").show()}},clean_selection:function(e){var t=e.str_replace("clean_selection_","");this.display_filename(t,"","")},get_content_callback:function(e){0==e.content.indexOf("text:")?(t("#fo_img").addClass("hidden").hide(),t("#fo_no_preview").addClass("hidden").hide(),t("#fo_preview").removeClass("hidden").show(),t("#fo_preview").val(e.content.substr(5))):0==e.content.indexOf("image:")?(t("#fo_img").removeClass("hidden").show(),t("#fo_no_preview").addClass("hidden").hide(),t("#fo_preview").addClass("hidden").hide(),i.show_image(e.content.substr(6))):(t("#fo_img").addClass("hidden").hide(),t("#fo_no_preview").removeClass("hidden").show(),t("#fo_preview").addClass("hidden").hide())},validate_url:function(e){return/:\/\//.test(e)||(e="http://"+e),/^[A-Za-z]+:\/\/[A-Za-z0-9-_:@]+\.[A-Za-z0-9-\+_%~&\\?\/.=()]+$/.test(e)},switch_title:function(e,i){var a=t("#link_container_"+e);t('[data-ca-multi="Y"]',a).toggleBy(!i),t('[data-ca-multi="N"]',a).toggleBy(i)},check_required_field:function(e,a){if(!a)return!1;var r=!1,o=0;t("#"+a).val(""),t("div[id*=message_"+e+"] p:visible span").each(function(){""!=t(this).html()&&(t("#"+a).val(e).change(),r=!0)}),elm_id=t("div[id*=message_"+e+"]:last").prop("id").str_replace("message_",""),i.switch_title(elm_id,r),t("div[id*=message_"+e+"_].cm-uploaded-image p:visible span").each(function(){""!=t(this).html()&&o++}),0==o||o>1||!t("label[for="+a+"]").hasClass("cm-required")?t("img[id*=clean_selection_"+e+"_]").removeClass("hidden").show():t("img[id*=clean_selection_"+e+"_]").addClass("hidden").hide()},check_image:function(e){var a=e.str_replace("local_","").str_replace("server_","").str_replace("url_","");""!=t("#message_"+a+" span").html()&&(parent_id=t("#file_uploader_"+a).cloneNode(1).str_replace("file_uploader_",""),t("#link_container_"+a).addClass("hidden").hide(),e=parent_id,i.switch_title(e,!0))},toggle_links:function(e,i){var a=e.str_replace("local_","").str_replace("server_","").str_replace("url_","").str_replace("clean_selection_","");"hide"==i?t("#link_container_"+a).addClass("hidden").hide():t("#link_container_"+a).removeClass("hidden").show()},clean_form:function(){t.each(t(".cm-fu-file i"),function(){t(this).trigger("click")})}};e.fileuploader=i}(Tygh,Tygh.$),function(e,t){var i=!1,a=null,r=0;t(function(){t.loadCss(["design/themes/"+e.theme_name+"/lib/bootstrap3-editable/css/bootstrap-editable.css"]),t.getScript("design/themes/"+e.theme_name+"/lib/bootstrap3-editable/js/bootstrap-editable.js",function(e,a,r){i=!0,t.ceLiveEditorMode()})});var o={_getPhrase:function(e){var t=e.data("caLiveEditorPhrase");return void 0!==t?t:e.is("var, option")?e.html():e.is("input[type=checkbox]")||e.is("input[type=image]")||e.is("img")?e.prop("title"):e.val()},dispatch:function(i){var n=t(i.target);if("click"==i.type&&t.browser.mozilla&&1!=i.which)return!0;if("click"==i.type&&n.closest(".cm-icon-live-edit").length){var s=t(".cm-live-edit",n.closest("var")).first();if(s.is("select")&&(s=t('option[value="'+s.val()+'"]',s)),!s.length||!s.data("caLiveEdit"))return;var c=o._getPhrase(s);if(a={name:s.data("caLiveEdit"),old_phrase:c,type:"",need_render:!!s.data("caLiveEditorNeedRender"),input_type:s.data("caLiveEditorInputType")},!s.data("editable")){var l=a.name.split(":"),d=l[0],p=l[1],h=e.live_editor_objects[d],m={container:"body",placement:"auto",type:"text",pk:1,escape:!1,autotext:"never",display:!1,defaultValue:c,value:c,unsavedclass:null,success:function(e,i){t.ceLiveEditorMode("save",i)}};d&&h&&(a.input_type?a.type=a.input_type:h.input_type_fields&&h.input_type_fields[p]?a.type=h.input_type_fields[p]:h.input_type&&(a.type=h.input_type));var f=c.length?c.length:1;if(m.onblur="ignore","input"==a.type)m.tpl='<input type="text" size="'+f+'">';else if("textarea"==a.type)m.type="textarea",m.rows=2,m.tpl='<textarea cols="70" class="cm-textarea-autosize"></textarea>';else if("wysiwyg"==a.type)m.type="textarea",r++,m.tpl='<textarea cols="70" class="cm-wysiwyg" id="live_editor_elm_'+r+'"></textarea>';else if("price"==a.type){var u=e.currencies.primary.decimals_separator,g=e.currencies.primary.thousands_separator,_=e.currencies.primary.decimals;m.tpl='<input type="text" size="'+f+'" data-a-dec="'+u+'" data-a-sep="'+g+'" data-m-dec="'+_+'">',m.inputclass="cm-numeric",m.validate=function(e){return{newValue:t.formatPrice(e.replace(",",""))}}}s.is("option")&&(s=s.parent()),s.editable(m),s.on("hidden",function(){o.cancel(),s.editable("destroy")})}s.editable("show"),t(".editable-input input, .editable-input textarea").select();var v=t(".editable-input textarea.cm-wysiwyg");v.length&&(v.ceEditor(),v.ceEditor("change",function(e){t.ceEditor("updateTextFields",v),t.ceLiveEditorMode("set",e)})),t.fn.autoNumeric&&t(".editable-input .cm-numeric").autoNumeric(),t.fn.autosize&&t(".editable-input .cm-textarea-autosize").autosize()}},load:function(e){t("[data-ca-live-editor-obj]",e).each(function(){var e=t(this),i=e.data("caLiveEditorObj"),a=e.html(),r=e.data("caLiveEditorPhrase"),o="",n=e.data("caLiveEditorNeedRender"),s=e.data("caLiveEditorInputType");r&&(o+=" data-ca-live-editor-phrase='"+t("<div>").text(r).html()+"'"),n&&(o+=' data-ca-live-editor-need-render="true"'),s&&(o+=' data-ca-live-editor-input-type="'+s+'"'),e.wrap('<var class="live-edit-wrap">').before('<i class="cm-icon-live-edit glyphicon-pencil glyphicon fa fa-pencil ty-icon-live-edit"></i>').html('<var data-ca-live-edit="'+i+'"'+o+' class="cm-live-edit live-edit-item">'+a+"</var>").removeAttr("data-ca-live-editor-obj").removeAttr("data-ca-live-editor-phrase").removeAttr("data-ca-live-editor-need-render").removeAttr("data-ca-live-editor-input-type")}),t(".icon-live-edit").each(function(){t(this).removeClass("icon-live-edit"),t(this).addClass("glyphicon-pencil glyphicon fa fa-pencil")}),t(".cm-live-editor-need-wrap",e).each(function(){var e=t(this);if(e.is("option")){if(!e.hasClass("cm-live-editor-need-wrap"))return!0;e=e.closest("select"),t("option",e).removeClass("cm-live-editor-need-wrap")}e.wrap('<var class="live-edit-wrap">'),e.before('<i class="cm-icon-live-edit glyphicon-pencil glyphicon fa fa-pencil ty-icon-live-edit"></i>'),e.removeClass("cm-live-editor-need-wrap"),e.addClass("cm-live-edit live-edit-item")}),t("[data-ca-live-edit]").each(function(){var e=t(this),i=o._getPhrase(e);if(!t.trim(i)){var a=e.data("caLiveEdit");o.set("",a)}}),t(".cm-live-edit").parents(".cm-button-main").removeClass("cm-button-main"),t(".cm-live-edit:has(p,div,ul)").css("display","block"),t.browser.msie&&t(".cm-live-edit:has(p)").each(function(){t(this).html(t(this).html())})},init:function(a){i&&(t.fn.editable.defaults.mode="popup",t.fn.editableform.template='<form class="form-inline editableform"><div class="control-group ty-wysiwyg-content"><div><div class="editable-input"></div><div class="editable-buttons"></div></div><div class="editable-error-block"></div></div></form>',t(".cm-icon-live-edit").click(function(e){return e.stopPropagation(),e.preventDefault(),t.ceLiveEditorMode("dispatch",e)}),t(e.doc).on("click",function(e){return t.ceLiveEditorMode("dispatch",e)}),t(e.doc).on("keyup",".editable-input input, .editable-input textarea",function(e){var i=t(e.target),a=i.val(),r=a.length?a.length:1;i.is("input")&&i.attr("size",r),o.set(a)}))},save:function(i){var r={name:a.name,value:i,lang_code:e.cart_language};a.need_render?r.need_render=!0:t.ceLiveEditorMode("set",i),t.ceAjax("request",fn_url("design_mode.live_editor_update"),{method:"post",data:r,callback:function(e,i,a){if(e.rendered_name&&e.rendered_content)t('[data-ca-live-edit="'+e.rendered_name+'"]').html(e.rendered_content)}}),a=null},set:function(i,r){!r&&a&&(r=a.name);var o=a&&a.need_render;if(r){var n=i,s=!1;i||(n="--"+fn_strip_tags(e.tr("empty"))+"--",s=!0),t('[data-ca-live-edit="'+r+'"]').each(function(){var e=t(this);o||(e.is("var.cm-live-edit, option")?e.html(n):e.is("input[type=checkbox]")?e.prop("title",n):e.is("input[type=image], img")?(e.prop("title",n),e.prop("alt",n)):e.val(n),e.toggleClass("cm-live-editor-empty-element",s));var a=e.data("caLiveEditorPhrase");(s||void 0!==a)&&e.data("caLiveEditorPhrase",i)})}},cancel:function(){if(a){t(".editable-input textarea.cm-wysiwyg").ceEditor("destroy");var e=a.old_phrase;"price"==a.type&&(e=t.formatPrice(e.replace(",",""))),o.set(e),a=null}}};t.ceLiveEditorMode=function(e){return o[e]?o[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("ty.ceLiveEditorMode: method "+e+" does not exist"):o.init.apply(this,arguments)},t.ceEvent("on","ce.commoninit",function(e){t.ceLiveEditorMode("load",e)})}(Tygh,Tygh.$),function(e,t){function i(e,t){for(var i=e.val().split(","),a=t.split("_"),r=0;r<i.length;r++)i[r]!=t&&0!=i[r].indexOf(a[0]+"=")||(i.splice(r,1),r--);e.val(i.join(","))}var a={delete_js_item:function(e,a,r){var o=t("#"+e);("delete_all"==a?t(".cm-js-item:visible",o):t("#"+(e+"_"+a),o)).remove();var n=t("#"+r+e+"_ids");n.length&&("delete_all"==a?n.val(""):i(n,a));var s=t("#"+e+"_no_item");t(".cm-js-item",o).length<=1&&s.length&&(o.find("#"+e+"_no_item").length||o.hide(),s.show()),t(".cm-js-item:visible:first .cm-comma",o).hide(),t("#opener_inner_"+e).text(t(".cm-js-item",o).length-1),t.ceEvent("trigger","ce.picker_delete_js_item",[e,a,r])},mass_delete_js_item:function(e,t){for(var i=e.split(","),r=0;r<i.length;r++){var o=i[r].split(":");a.delete_js_item(t,o[1],o[0])}},add_js_item:function(e,i,a,r){var o=t("#"+e),n=t("#"+a+e+"_ids"),s=n.length&&""!==n.val()?n.val().split(","):[];for(var c in i)if(o.hasClass("cm-display-radio"))t("input.cm-picker-value",o).val(c),t("input.cm-picker-value-description",o).val(i[c]);else{var l=e+"_"+c,d=c;if(!t("#"+l).length&&o.length){var p=t(".cm-clone",o).clone(!0).appendTo(o).prop("id",l).removeClass("hidden cm-clone"),h=p.html(),m="";if(r){for(var f in r)m="%id"==r[f]?c:"%item"==r[f]?i[c]:i[c][r[f].str_replace("%item.","")],h=h.str_replace(f,m);h=unescape(h)}if("p"==a)if(o.hasClass("cm-picker-product"))h=unescape(h.str_replace("{delete_id}",c).str_replace("{product}",i[c]));else{var u,g=c,_=o.hasClass("cm-picker-options");if(_)for(u in i[c].option.path)g+="_"+u+"_"+i[c].option.path[u];var v=t.crc32(g);if(t("#"+e+"_"+v).length)h="";else{var b=t("input",p).prop("name").str_replace("[{product_id}][amount]","["+v+"]"),y='<input type="hidden" name="'+b+'[product_id]" value="'+c+'" />';if(i[c].product_id=v,_)for(u in i[c].option.path)y+='<input type="hidden" name="'+b+"[product_options]["+u+']" value="'+i[c].option.path[u]+'" />';t("input[name*='amount']",p).val(1),p.prop("id",e+"_"+v),h=_?unescape(p.html()).str_replace("{product}",i[c].value).str_replace("{options}",i[c].option.desc+y).str_replace("{root_id}",e).str_replace("{delete_id}",v).str_replace("{product_id}",v):unescape(p.html()).str_replace("{product}",i[c]).str_replace("{options}",y).str_replace("{root_id}",e).str_replace("{delete_id}",v).str_replace("{product_id}",v)}}var C={append_obj_content:h,var_prefix:a,object_html:unescape(p.html()),var_id:c,item_id:i[c],added_before:s};t.ceEvent("trigger","ce.picker_add_js_item",[C]),(h=C.append_obj_content)?(p.html(h),n.length&&s.push(d)):p.remove(),t("input",p).prop("disabled",!1);var w=t(".cm-comma",p);t(".cm-js-item",o).length>2&&w.length&&w.show()}n.length&&n.val(s.join(","))}t("#opener_inner_"+e).text(t(".cm-js-item",o).length-1),t(".cm-js-item",o).length>1&&(o.removeClass("hidden").show(),t("#"+e+"_no_item").hide())},check_items_qty:function(e,i,a){if(!(a<=0)){for(var r=t("#"+e),o=t(".cm-js-item",r),n=0;n<o.length;n++){var s=t(o[n]);s.hasClass("cm-clone")||n>a&&s.remove()}if(o.length<=a)t("#"+e+"_details").hide();else{var c=t("#o"+e+"_ids").val(),l=t("#"+e+"_details").children("a:first");l&&(l.attr("url",i+c),t("#"+e+"_details").show())}o.length>1?t("#"+e+"_clear").show():t("#"+e+"_clear").hide()}}};t.cePicker=function(e){if(a[e])return a[e].apply(this,Array.prototype.slice.call(arguments,1));t.error("ty.picker: method "+e+" does not exist")}}(0,Tygh.$),function(e,t){var i,a={init:function(){var e=t(this),r={items_count:e.data("caItemsCount")?e.data("caItemsCount"):3,items_responsive:!!e.data("caItemsResponsive")};if(i=e.hasClass("jcarousel-skin")||e.parent().hasClass("jcarousel-skin")?"jcarousel":"owlcarousel",a.countElms(e)<=r.items_count&&e.removeClass("owl-carousel"),a.countElms(e)>r.items_count||e.hasClass("jcarousel-skin")&&a.countElms(e)>r.items_count){if(e.data("owl-carousel")||e.data("jcarousel"))return!0;a.check(e,r)}return a.bind(e),!0},load:function(r,o){"owlcarousel"==i?r.owlCarousel({direction:e.language_direction,items:o.items_count,singleItem:1==o.items_count,responsive:o.items_responsive,pagination:!1,navigation:!0,lazyLoad:!0,navigationText:1==o.items_count?['<i class="glyphicon glyphicon-chevron-left"></i>','<i class="glyphicon glyphicon-chevron-right"></i>']:['<i class="glyphicon glyphicon-menu-left"></i>','<i class="glyphicon glyphicon-menu-right"></i>'],theme:1==o.items_count?"owl-one-theme":"owl-more-theme",afterInit:function(e){t(e).css({visibility:"visible",position:"relative"})}}):(t("li",r).show(),r.jcarousel({scroll:1,wrap:"circular",animation:"fast",initCallback:t.ceScrollerMethods.init_callback,itemFallbackDimension:o.i_width,item_width:o.i_width,item_height:o.i_height,clip_width:o.c_width,clip_height:o.i_height,buttonNextHTML:'<div><i class="glyphicon glyphicon-chevron-right"></i></div>',buttonPrevHTML:'<div><i class="glyphicon glyphicon-chevron-left"></i></div>',buttonNextEvent:"click",buttonPrevEvent:"click",size:a.countElms(r)}))},check:function(e,r){if(e.data("owl-carousel")||e.data("jcarousel"))return!0;if(!r.i_width||!r.i_height){var o=!1;if(t(".cm-gallery-item",e).length){var n=!1;if(t(".cm-gallery-item",e).each(function(){var e=t(this),i=t("img",e);if(i.length){if(e.outerWidth()>=i.width())return o=e,!1;n=!0}}),!o){if(n){return setTimeout(function(){a.check(e,r)},500),!1}o=t(".cm-gallery-item:first",e)}}else o=t("img:first",e);r.i_width=o.outerWidth(!0),r.i_height=o.outerHeight(!0),r.c_width=r.i_width*r.items_count,"owlcarousel"==i&&e.closest(".cm-image-gallery-wrapper").width(r.c_width),e.closest(".cm-image-gallery-wrapper").width(r.c_width)}return a.load(e,r)},bind:function(e){e.click(function(a){var r,o=t(a.target);if(("owlcarousel"==i?!(!o.parents(".cm-item-gallery")&&!o.parents("div.cm-thumbnails-mini")):!(!o.parents("li")&&!o.parents("div.cm-thumbnails-mini")))&&!o.is("img"))return!1;if(o.hasClass("cm-thumbnails-mini")||(r=o.parents("a:first.cm-thumbnails-mini"))){if(o=r&&r.length?r:o,"owlcarousel"==i)s=t(".cm-preview-wrapper:first");else var n=t(this).parents(".jcarousel-skin:first"),s=n.length?n.parents(":first"):t(this).parents(":first");t(".cm-image-previewer",s).each(function(){if(!t(this).hasClass("cm-thumbnails-mini")){var i=t(this).prop("id");i==o.data("caGalleryLargeId")?(t(".cm-thumbnails-mini",e).removeClass("active"),o.addClass("active"),t(this).removeClass("hidden"),t("div",t(this)).removeClass("hidden"),t("#box_"+i).removeClass("hidden")):(t(this).addClass("hidden"),t("div",t(this)).addClass("hidden"),t("#box_"+i).addClass("hidden"))}})}})},countElms:function(e){return"owlcarousel"==i?t(".cm-gallery-item",e).length:t("li",e).length}};t.fn.ceProductImageGallery=function(e){if(0!==t(".jcarousel-skin").length){if(!t().jcarousel){i=t(this);return t.getScript("js/lib/jcarousel/jquery.jcarousel.js",function(){i.ceProductImageGallery()}),!1}}else if(!t().owlCarousel){var i=t(this);return t.getScript("js/lib/owlcarousel/owl.carousel.min.js",function(){i.ceProductImageGallery()}),!1}return t(this).each(function(i,r){return a[e]?a[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("ty.productimagegallery: method "+e+" does not exist"):a.init.apply(this,arguments)})}}(Tygh,Tygh.$),function(e,t){"use strict";var i={winWidth:function(){return t(window).width()},responsiveScroll:function(){t.ceEvent("on","ce.needScroll",function(e){e.need_scroll=!1,setTimeout(function(){t.scrollToElm(t("#"+e.jelm.data("caScroll")))},310)})},responsiveNotifications:function(){this.winWidth()<=767&&t.ceEvent("on","ce.notificationshow",function(e){t(e).hasClass("cm-notification-content-extended")&&t("body,html").scrollTop(0)})},resizeDialog:function(){var e=t(".ui-dialog");t(".ui-widget-overlay").css({"min-height":t(window).height()}),t(e).css({position:"absolute",width:t(window).width()-20,left:"10px",top:"10px","max-height":"none",height:"auto","margin-bottom":"10px"}),t(e).find(".ui-dialog-title").css({width:t(window).width()-80}),t(e).find(".ui-dialog-content").css({height:"auto","max-height":"none"}),t(e).find(".object-container").css({height:"auto"}),t(e).find(".buttons-container").css({position:"relative",top:"auto",left:"0px",right:"0px",bottom:"0px",width:"auto"})},responsiveDialog:function(){var e=this;t.ceEvent("on","ce.dialogshow",function(){e.winWidth()<=767&&(e.resizeDialog(),t("body,html").scrollTop(0))})},responsiveFilters:function(e){var i=t(".cm-horizontal-filters-content");this.winWidth()<=767?i.removeClass("cm-popup-box"):i.addClass("cm-popup-box"),this.winWidth()>767&&(t(".ty-horizontal-filters-content-to-right").removeClass("ty-horizontal-filters-content-to-right"),t(".ty-horizontal-product-filters-dropdown").click(function(){var e=t(".cm-horizontal-filters").width(),i=t(".cm-horizontal-filters-content",this);setTimeout(function(){i.offset().left+i.width()>e&&i.addClass("ty-horizontal-filters-content-to-right")},1)}))}};t(document).ready(function(){t(window).resize(function(e){i.winWidth(),i.responsiveFilters()});var e=t(".no-margin-nav .navbar-collapse>ul.nav");i.winWidth()<=767?e.hasClass("navbar-nav")||e.addClass("navbar-nav"):e.hasClass("navbar-nav")||e.removeClass("navbar-nav"),window.addEventListener&&window.addEventListener("orientationchange",function(){i.winWidth()<=767&&i.resizeDialog(),t.ceDialog("get_last").ceDialog("reload")},!1),i.responsiveDialog(),i.responsiveFilters(),t.ceEvent("on","ce.ajaxdone",function(){i.responsiveFilters(),i.winWidth()<=767&&i.resizeDialog()})}),t.ceEvent("on","ce.tab.init",function(){i.responsiveScroll()})}(0,Tygh.$);var shit="shithelloaga",shit2="shit2";